/* ==========================================================================
   1. VARIÁVEIS E BASE
   ========================================================================== */
:root {
    --fc-cor-fundo-pagina: #f4f6f8;
    --fc-cor-fundo-card: #ffffff;
    --fc-cor-texto-principal: #333;
    --fc-cor-texto-secundario: #6c757d;
    --fc-cor-borda: #e9ecef;
    --fc-cor-primaria: #3498db;
    --fc-cor-primaria-hover: #2980b9;
    --fc-cor-secundaria: #7f8c8d;
    --fc-cor-secundaria-hover: #6c7a7b;
    --fc-cor-receita: #27ae60;
    --fc-cor-despesa: #e74c3c;
    --fc-cor-aviso: #f39c12;
    --fc-font-principal: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --fc-sombra-padrao: 0 3px 8px rgba(0, 0, 0, 0.05);
    --fc-raio-borda: 10px;
}

html { touch-action: manipulation; }

body {
    font-family: var(--fc-font-principal);
    background-color: var(--fc-cor-fundo-pagina);
    color: var(--fc-cor-texto-principal);
    margin-left: 250px;
    transition: margin-left 0.3s ease;
}

.hidden { display: none !important; }

@keyframes fc-fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fc-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* ==========================================================================
   2. LAYOUT PRINCIPAL E CONTAINER
   ========================================================================== */
.fc-main-container {
    padding: 10px;
    max-width: 1600px;
    margin: 10px;
}

.fc-content-wrapper {
    background-color: var(--fc-cor-fundo-card);
    border-radius: var(--fc-raio-borda);
    padding: 0; /* Removido o padding para o header ocupar tudo */
    box-shadow: var(--fc-sombra-padrao);
    border: 1px solid var(--fc-cor-borda);
}

.fc-card {
    background-color: var(--fc-cor-fundo-card);
    border-radius: var(--fc-raio-borda);
    padding: 25px;
    box-shadow: var(--fc-sombra-padrao);
    border: 1px solid var(--fc-cor-borda);
}

.fc-section-title { 
    font-size: 1.2rem; 
    color: #2c3e50; 
    margin-bottom: 20px; 
    padding-bottom: 10px; 
    border-bottom: 1px solid var(--fc-cor-borda); 
    font-weight: 600; 
}

/* ==========================================================================
   3. NOVO HEADER, BREADCRUMBS E AÇÕES GLOBAIS
   ========================================================================== */
.fc-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 25px;
    border-bottom: 1px solid var(--fc-cor-borda);
    background-color: #fff;
}

/* --- Lado Esquerdo: Breadcrumbs --- */
.fc-breadcrumbs {
    font-size: 1.2rem;
    font-weight: 500;
    color: var(--fc-cor-texto-secundario);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.fc-breadcrumbs a {
    color: var(--fc-cor-primaria);
    text-decoration: none;
    transition: text-decoration 0.2s;
}
.fc-breadcrumbs a:hover {
    text-decoration: underline;
}
.fc-breadcrumbs .separator {
    margin: 0 10px;
}
.fc-breadcrumbs .active {
    color: var(--fc-cor-texto-principal);
    font-weight: 600;
}

/* --- Lado Direito: Ações Globais --- */
.fc-header-actions {
    display: flex;
    align-items: center;
    gap: 5px;
}
.fc-header-actions .fc-btn-icon {
    width: 42px;
    height: 42px;
    font-size: 1.1rem;
    border-radius: 50%;
    color: var(--fc-cor-texto-secundario);
    background-color: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s, transform 0.3s ease;
}
.fc-header-actions .fc-btn-icon:hover {
    background-color: #f0f3f5;
    color: var(--fc-cor-primaria);
}

/* Container do Ícone + Badge */
.fc-icon-badge-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}
.fc-badge {
    position: absolute;
    top: -5px;
    right: -8px;
    background-color: var(--fc-cor-despesa);
    color: #fff;
    min-width: 20px;
    height: 20px;
    border-radius: 10px;
    font-size: 0.75rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 5px;
    border: 2px solid #fff;
}
.fc-icon-badge-container .fc-icon-text {
    font-weight: 700;
    font-size: 0.9rem;
    color: var(--fc-cor-aviso);
}
#btnIrParaAprovacoes .fc-btn-icon:hover .fc-icon-text {
    color: var(--fc-cor-primaria-hover);
}

/* Ícones específicos */
.fc-header-actions .fc-btn-icon.is-disabled {
    color: #ccc;
    cursor: not-allowed;
}
.fc-header-actions .fc-btn-icon.is-disabled:hover {
    background-color: transparent;
}
#btnToggleConfiguracoes.fechar {
    background-color: var(--fc-cor-despesa);
    color: #fff;
    transform: rotate(180deg);
}
#btnToggleConfiguracoes.fechar:hover {
    background-color: #c0392b;
}

/* Menu "Mais Ações" (Mobile) */
.fc-mobile-only-menu {
    display: none; /* Escondido no desktop */
    position: relative;
}
.fc-dropdown-menu {
    position: absolute;
    top: 110%;
    right: 0;
    background-color: #fff;
    border-radius: var(--fc-raio-borda);
    box-shadow: var(--fc-sombra-padrao);
    border: 1px solid var(--fc-cor-borda);
    min-width: 200px;
    z-index: 1100;
    overflow: hidden;
    padding: 5px 0;
}
.fc-dropdown-menu a {
    display: block;
    padding: 10px 15px;
    color: var(--fc-cor-texto-principal);
    text-decoration: none;
    font-size: 0.9rem;
}
.fc-dropdown-menu a:hover {
    background-color: #f8f9fa;
}
.fc-dropdown-menu a.is-disabled {
    color: #ccc;
    cursor: not-allowed;
}
.fc-dropdown-menu a.is-disabled:hover {
    background-color: transparent;
}

/* ==========================================================================
   4. NOVA NAVEGAÇÃO POR ABAS
   ========================================================================== */
.fc-tabs-container {
    border-bottom: 1px solid var(--fc-cor-borda);
    padding: 0 25px;
    margin: 20px 0 25px 0;
    display: flex;
    gap: 10px;
}

.fc-tab-btn {
    padding: 15px 25px;
    font-size: 1rem;
    font-weight: 500;
    color: var(--fc-cor-texto-secundario);
    background-color: transparent;
    border: none;
    border-bottom: 4px solid transparent;
    border-radius: 4px 4px 0 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s ease-in-out;
    margin-bottom: -1px; /* Efeito de fusão da borda */
}

.fc-tab-btn:hover {
    background-color: #f0f3f5;
    color: var(--fc-cor-primaria);
}

.fc-tab-btn.active {
    background-color: var(--fc-cor-fundo-pagina);
    color: var(--fc-cor-primaria);
    border-bottom-color: var(--fc-cor-primaria);
    font-weight: 600;
}

.fc-tabs-content {
    padding: 0 25px 25px 25px; /* Padding para o conteúdo abaixo das abas */
}

.fc-tab-panel {
    display: none;
}

.fc-tab-panel.active {
    display: block;
    animation: fc-fadeIn 0.5s ease-in-out;
}

#tab-dashboard.active {
    display: grid;
    gap: 30px;
}

/* ==========================================================================
   5. DASHBOARD (REDESIGN)
   ========================================================================== */
.fc-section-container { 
    margin-bottom: 10px; 
}
.fc-dashboard-grid { 
    gap: 20px; 
}
.fc-alertas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

/* --- HERO SECTION DO SALDO TOTAL --- */
.fc-saldo-hero {
    position: relative; /* << ADICIONADO para posicionar o botão filho */
    background-color: #f8f9fa;
    border: 1px solid var(--fc-cor-borda);
    border-radius: var(--fc-raio-borda);
    padding: 30px 25px;
    text-align: center;
    margin-bottom: 30px;
}
.fc-saldo-hero-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--fc-cor-texto-secundario);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin: 0 0 10px 0;
}
.fc-saldo-hero-value {
    font-size: 2.8rem;
    font-weight: 700;
    color: var(--fc-cor-texto-principal);
    margin: 0;
    line-height: 1.2;
}

/* --- ESTILO PARA O BOTÃO DE ATUALIZAR SALDOS --- */
.fc-btn-atualizar-hero {
    position: absolute;
    top: 15px;
    right: 15px;
    border-radius: 50%;
    width: 38px;
    height: 38px;
    padding: 0;
}
/* Garante que o ícone dentro do botão fique centralizado */
.fc-btn-atualizar-hero i {
    margin: 0;
}

/* --- RESUMO DAS CONTAS --- */
.fc-resumo-contas {
    background-color: var(--fc-cor-fundo-card);
    border: 1px solid var(--fc-cor-borda);
    border-radius: var(--fc-raio-borda);
}
.fc-resumo-contas-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid var(--fc-cor-borda);
}
.fc-resumo-contas-title {
    font-size: 1.1rem;
    font-weight: 600;
    margin: 0;
}
.fc-resumo-contas-list {
    list-style: none;
    padding: 0;
    margin: 0;
}
.fc-resumo-contas-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    font-size: 0.95rem;
}
.fc-resumo-contas-item:not(:last-child) {
    border-bottom: 1px solid #f1f3f5;
}
.fc-resumo-contas-item .conta-nome {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--fc-cor-texto-principal);
}
.fc-resumo-contas-item .conta-nome i {
    color: var(--fc-cor-texto-secundario);
}
.fc-resumo-contas-item .conta-saldo {
    font-weight: 600;
    font-family: 'Consolas', 'Menlo', monospace; /* Fonte monoespaçada para alinhar números */
}
/* Estilo para contas zeradas (quando visíveis) */
.fc-resumo-contas-item.conta-zerada {
    opacity: 0.6;
}

/* --- CHECKBOX DE FILTRO --- */
.fc-form-checkbox-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
}
.fc-form-checkbox-wrapper label {
    font-size: 0.85rem;
    color: var(--fc-cor-texto-secundario);
    cursor: pointer;
}
.fc-form-checkbox-wrapper input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
}
.fc-alerta-card { display: flex; flex-direction: column; justify-content: space-between; background-color: var(--fc-cor-fundo-card); border-radius: var(--fc-raio-borda); padding: 20px; box-shadow: var(--fc-sombra-padrao); border-left: 5px solid; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; text-decoration: none; color: inherit; }
.fc-alerta-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
.fc-alerta-card .titulo { font-size: 1rem; font-weight: 700; text-transform: uppercase; display: flex; align-items: center; gap: 10px; }
.fc-alerta-card .dados-principais { text-align: right; margin: 15px 0; }
.fc-alerta-card .contador { font-size: 2.5rem; font-weight: 700; line-height: 1; }
.fc-alerta-card .label-contador { font-size: 0.9rem; color: var(--fc-cor-texto-secundario); }
.fc-alerta-card .total-valor { font-size: 1.1rem; font-weight: 600; color: var(--fc-cor-texto-principal); text-align: right; margin-top: 5px; }
.fc-alerta-card.pagar-hoje { border-left-color: var(--fc-cor-despesa); color: var(--fc-cor-despesa); }
.fc-alerta-card.pagar-hoje .titulo, .fc-alerta-card.pagar-hoje .contador { color: var(--fc-cor-despesa); }
.fc-alerta-card.pagar-3d { border-left-color: var(--fc-cor-aviso); color: var(--fc-cor-aviso); }
.fc-alerta-card.pagar-3d .titulo, .fc-alerta-card.pagar-3d .contador { color: var(--fc-cor-aviso); }
.fc-alerta-card.pagar-5d { border-left-color: var(--fc-cor-secundaria); color: var(--fc-cor-secundaria); }
.fc-alerta-card.pagar-5d .titulo, .fc-alerta-card.pagar-5d .contador { color: var(--fc-cor-secundaria); }

/* ==========================================================================
   6. LANÇAMENTOS, AGENDA E APROVAÇÕES
   ========================================================================== */
.fc-agenda-card { display: flex; flex-direction: column; background-color: #fff; border-radius: var(--fc-raio-borda); border-left: 5px solid; box-shadow: var(--fc-sombra-padrao); padding: 15px; margin-bottom: 15px; }
.fc-agenda-card.pagar { border-left-color: var(--fc-cor-despesa); }
.fc-agenda-card.receber { border-left-color: var(--fc-cor-receita); }
.fc-agenda-card.atrasado .vencimento { color: var(--fc-cor-despesa); font-weight: 700; }
.fc-agenda-card .header { display: flex; justify-content: space-between; align-items: flex-start; gap: 10px; }
.fc-agenda-card .info { flex-grow: 1; }
.fc-agenda-card .descricao { font-size: 1.1rem; font-weight: 600; margin-bottom: 5px; }
.fc-agenda-card .categoria-agenda { font-size: 0.85rem; color: var(--fc-cor-texto-secundario); font-weight: 500; margin: 5px 0; }
.fc-agenda-card .valor { font-size: 1.2rem; font-weight: 700; white-space: nowrap; }
.fc-agenda-card.pagar .valor { color: var(--fc-cor-despesa); }
.fc-agenda-card.receber .valor { color: var(--fc-cor-receita); }
.fc-agenda-card .footer { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; font-size: 0.9rem; color: var(--fc-cor-texto-secundario); }


/* Posicionamento da setinha nos cards de agendamento (Desktop) */
.fc-agenda-card .actions {
    display: flex;
    align-items: center;
    gap: 8px;
}
.fc-agenda-card .btn-toggle-agenda-details {
    margin-left: 5px; /* Adiciona um espaço à esquerda */
}

.fc-agenda-card .actions-main-group {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
    flex-grow: 1; /* Faz este grupo ocupar o espaço disponível */
}

.fc-lancamentos-cards-container { display: grid; grid-template-columns: 1fr; gap: 15px; }
.fc-lancamento-card { display: grid; grid-template-areas: "header actions" "details actions" "status actions"; grid-template-columns: 1fr auto; gap: 5px 15px; background-color: var(--fc-cor-fundo-card); border-radius: var(--fc-raio-borda); border-left: 5px solid; box-shadow: var(--fc-sombra-padrao); padding: 15px; }
.fc-lancamento-card.receita { border-left-color: var(--fc-cor-receita); }
.fc-lancamento-card.despesa { border-left-color: var(--fc-cor-despesa); }
.fc-lancamento-card.pendente { border-left-color: var(--fc-cor-texto-secundario); background-color: #f8f9fa; }
.fc-lancamento-card .header { grid-area: header; display: flex; justify-content: space-between; align-items: flex-start; gap: 15px; }
.fc-lancamento-card .descricao-wrapper { display: flex; flex-direction: column; }
.fc-lancamento-card .lancamento-id { font-size: 0.75rem; color: var(--fc-cor-texto-secundario); font-weight: 500; }
.fc-lancamento-card .descricao { font-size: 1.1rem; font-weight: 600; }
.fc-lancamento-card .valor { font-size: 1.2rem; font-weight: 700; white-space: nowrap; }
.fc-lancamento-card.receita .valor { color: var(--fc-cor-receita); }
.fc-lancamento-card.despesa .valor { color: var(--fc-cor-despesa); }
.fc-lancamento-card .details { grid-area: details; display: flex; flex-wrap: wrap; gap: 5px 15px; font-size: 0.85rem; color: var(--fc-cor-texto-secundario); margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--fc-cor-borda); }
.fc-lancamento-card .detail-item { display: flex; align-items: center; gap: 5px; }
.fc-lancamento-card .status-placeholder { min-height: 20px; grid-area: status; }
.fc-lancamento-card .status-pendente { grid-area: status; display: flex; align-items: center; gap: 8px; font-size: 0.85rem; font-weight: 600; color: var(--fc-cor-texto-secundario); margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--fc-cor-borda); }
.fc-lancamento-card .actions { grid-area: actions; display: flex; flex-direction: column; justify-content: center; gap: 10px; align-self: stretch; border-left: 1px solid var(--fc-cor-borda); padding-left: 10px; }
.fc-lancamento-card .btn-toggle-details { grid-area: status; align-self: end; }


/* ==========================================================================
   CARD DE APROVAÇÃO (REDESIGN)
   ========================================================================== */

.fc-aprovacao-card {
    background-color: #fff;
    border: 1px solid var(--fc-cor-borda);
    border-radius: var(--fc-raio-borda);
    margin-bottom: 25px;
    box-shadow: var(--fc-sombra-padrao);
    overflow: hidden; /* Garante que os cantos arredondados sejam respeitados */
}

.fc-aprovacao-card .meta-info {
    padding: 10px 20px;
    background-color: #f8f9fa;
    font-size: 0.85rem;
    color: var(--fc-cor-texto-secundario);
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--fc-cor-borda);
}

.fc-aprovacao-card-header {
    padding: 20px;
    border-bottom: 1px solid var(--fc-cor-borda);
}

.fc-aprovacao-card-header .tipo-solicitacao {
    font-size: 0.9rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 0 0 10px 0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.fc-aprovacao-card-header .descricao-alvo {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--fc-cor-texto-principal);
    margin: 0;
}
.fc-aprovacao-card-header .descricao-alvo span {
    font-weight: 400;
    color: var(--fc-cor-texto-secundario);
}

.fc-aprovacao-card-body {
    padding: 20px;
}

/* Estilo para a lista de alterações (edição) */
.fc-aprovacao-alteracoes-lista {
    list-style: none;
    padding: 0;
    margin: 0;
    font-size: 0.95rem;
}
.fc-aprovacao-alteracoes-lista li {
    padding: 10px 0;
    display: grid;
    grid-template-columns: 120px 1fr;
    gap: 15px;
    align-items: center;
}
.fc-aprovacao-alteracoes-lista li:not(:last-child) {
    border-bottom: 1px dotted var(--fc-cor-borda);
}
.fc-aprovacao-alteracoes-lista .label {
    font-weight: 600;
    color: var(--fc-cor-texto-secundario);
    text-align: right;
}
.fc-aprovacao-alteracoes-lista .valor-antigo {
    color: var(--fc-cor-despesa);
    text-decoration: line-through;
    margin-right: 8px;
}
.fc-aprovacao-alteracoes-lista .valor-novo {
    color: var(--fc-cor-receita);
    font-weight: 700;
}
.fc-aprovacao-alteracoes-lista .seta-indicador {
    color: var(--fc-cor-primaria);
    font-weight: 700;
    margin: 0 5px;
}

/* Estilo para a caixa de ação (exclusão, estorno, etc.) */
.fc-aprovacao-acao-box {
    padding: 15px 20px;
    border-radius: var(--fc-raio-borda);
    margin: 0;
    border: 1px solid;
    background-color: #f8f9fa;
}
.fc-aprovacao-acao-box h4 {
    margin-top: 0;
    margin-bottom: 5px;
    display: flex;
    align-items: center;
    gap: 10px;
}
.fc-aprovacao-acao-box.tipo-exclusao {
    border-color: var(--fc-cor-despesa);
    color: #a94442;
    background-color: #f2dede;
}
.fc-aprovacao-acao-box.tipo-estorno {
    border-color: var(--fc-cor-receita);
    color: #2b6a41;
    background-color: #dff0d8;
}
.fc-aprovacao-acao-box.tipo-reversao {
    border-color: var(--fc-cor-aviso);
    color: #8a6d3b;
    background-color: #fcf8e3;
}

.justificativa-solicitante {
    padding: 15px 20px;
    background-color: #e7f3fe; /* Azul claro */
    border-top: 1px solid var(--fc-cor-borda);
    border-bottom: 1px solid var(--fc-cor-borda);
    font-size: 0.9rem;
}
.justificativa-solicitante strong {
    color: #31708f;
}
.justificativa-solicitante p {
    margin: 5px 0 0 0;
    font-style: italic;
    line-height: 1.5;
}

.fc-aprovacao-card .acoes-aprovacao {
    padding: 15px 20px;
    background-color: #f8f9fa;
    border-top: 1px solid var(--fc-cor-borda);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

/* --- ESTILOS PARA OS NOVOS CARDS DA AGENDA --- */
.fc-agenda-card-wrapper {
    margin-bottom: 15px;
}
.fc-agenda-card {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 15px 20px;
    background-color: #fff;
    border-radius: var(--fc-raio-borda);
    border-left: 5px solid;
    box-shadow: var(--fc-sombra-padrao);
}
.fc-agenda-card.pagar { border-left-color: var(--fc-cor-despesa); }
.fc-agenda-card.receber { border-left-color: var(--fc-cor-receita); }
.fc-agenda-card.atrasado { border-left-width: 7px; }
.fc-agenda-card.atrasado .card-details .detail-item[data-label="Vencimento"] {
    color: var(--fc-cor-despesa);
    font-weight: 700;
}
.fc-agenda-card .card-meta-line .actions {
    flex-wrap: nowrap; /* Impede que os botões quebrem linha */
}


/* --- ESTILOS PARA A ÁREA EXPANSÍVEL DO RATEIO --- */
.fc-lancamento-itens-container {
    background-color: #f8f9fa; /* Fundo suave para diferenciar */
    padding: 15px 20px;
    margin-top: -10px; /* Sobrepõe levemente a borda inferior do card */
    border-radius: 0 0 var(--fc-raio-borda) var(--fc-raio-borda);
    border: 1px solid var(--fc-cor-borda);
    border-top: none;
    animation: fc-fadeIn 0.4s ease;
}

.item-detalhe-grid {
    font-size: 0.9rem;
}

.item-detalhe-header, .item-detalhe-row {
    display: grid;
    gap: 15px;
    padding: 8px 5px;
    align-items: center; /* Alinha o conteúdo verticalmente */
}

/* Define as colunas para cada tipo de rateio, agora usando o wrapper como referência */
/* Padrão para COMPRA e genéricos */
[data-rateio-tipo="COMPRA"] ~ .fc-lancamento-itens-container .item-detalhe-grid > * {
    grid-template-columns: 2fr 1.5fr 1fr; /* Categoria | Descrição | Valor */
}
/* Específico para DETALHADO (Impostos) */
[data-rateio-tipo="DETALHADO"] ~ .fc-lancamento-itens-container .item-detalhe-grid > * {
    grid-template-columns: 2fr 2fr 1.5fr 1fr; /* Favorecido | Categoria | Descrição | Valor */
}

.item-detalhe-header {
    font-weight: 600;
    color: var(--fc-cor-texto-secundario);
    border-bottom: 2px solid var(--fc-cor-borda);
    font-size: 0.8rem;
    text-transform: uppercase;
}

.item-detalhe-row:not(:last-child) {
    border-bottom: 1px solid #e9ecef;
}

/* Alinha a coluna de valor à direita */
.item-detalhe-header div:last-child,
.item-detalhe-row div:last-child {
    text-align: right;
    font-weight: 500;
}

/* Bloco para exibir a justificativa na tela de aprovação */
.justificativa-solicitante {
    padding: 10px 15px;
    background-color: #fcf8e3; /* Um amarelo bem claro */
    border-bottom: 1px solid var(--fc-cor-borda);
    font-size: 0.9rem;
}
.justificativa-solicitante strong {
    color: #8a6d3b;
}
.justificativa-solicitante p {
    margin: 5px 0 0 0;
    font-style: italic;
}

.fc-btn-atualizar {
    background-color: transparent;
    color: var(--fc-cor-primaria);
    border: 1px solid var(--fc-cor-borda);
    border-radius: 50px;
    padding: 6px 12px;
    font-size: 0.85rem;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    transition: all 0.2s;
}
.fc-btn-atualizar:hover:not(:disabled) {
    background-color: var(--fc-cor-primaria);
    color: #fff;
    border-color: var(--fc-cor-primaria);
}
.fc-btn-atualizar:disabled i {
    animation: fc-spin 1.2s linear infinite;
}
@keyframes fc-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* ESTILOS PARA AGENDA AGRUPADA */

/* Container para um grupo de parcelas (header + lista) */
.fc-agenda-grupo {
    background-color: #fff;
    border-radius: var(--fc-raio-borda);
    margin-bottom: 15px;
    box-shadow: var(--fc-sombra-padrao);
    border: 1px solid var(--fc-cor-borda);
}

/* Header do grupo (o card mestre clicável) */
.fc-agenda-grupo-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    cursor: pointer;
    transition: background-color 0.2s;
    gap: 15px; /* Adiciona um espaço entre os itens */
}
.fc-agenda-grupo-header:hover {
    background-color: #f8f9fa;
}

.fc-agenda-grupo-header .info-principal {
    display: flex;
    align-items: center;
    gap: 15px;
    min-width: 0; 
}

.fc-agenda-grupo-header .icone-grupo {
    font-size: 1.5rem;
    color: var(--fc-cor-texto-secundario);
}
.fc-agenda-grupo-header .descricao-grupo {
    font-size: 1.1rem;
    font-weight: 600;
}

.fc-agenda-grupo-header .resumo-grupo {
    display: flex;
    align-items: center;
    gap: 20px;
    font-size: 0.9rem;
    color: var(--fc-cor-texto-secundario);
    flex-shrink: 0; /* Impede que este elemento seja esmagado */
}

.fc-agenda-grupo-header .total-grupo {
    font-weight: 700;
    font-size: 1.1rem;
    color: #e74c3c;;
}

.fc-agenda-grupo-header .toggle-icon {
    font-size: 1rem;
    color: var(--fc-cor-primaria);
    transition: transform 0.3s ease;
}
.fc-agenda-grupo-header.expandido .toggle-icon {
    transform: rotate(180deg);
}


/* Container da lista de parcelas (começa oculto) */
.fc-agenda-parcelas-lista {
    padding: 0 15px 15px 15px;
    border-top: 1px solid var(--fc-cor-borda);
    background-color: #fdfdfd;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-in-out;
}
.fc-agenda-parcelas-lista.expandido {
    max-height: 600px; /* Altura máxima da lista, pode ajustar */
    overflow-y: auto;
}

/* Ações para o grupo (Baixa em lote) */
.fc-agenda-grupo-acoes {
    padding-bottom: 15px;
    display: flex;
    justify-content: flex-end;
}


/* ==========================================================================
   7. TELAS SECUNDÁRIAS (CONFIG, NOTIFICAÇÕES, HISTÓRICO)
   ========================================================================== */
.fc-config-layout { display: flex; gap: 30px; }
.fc-config-menu { flex: 0 0 220px; }
.fc-config-menu-item { display: block; padding: 12px 15px; border-radius: 6px; text-decoration: none; color: var(--fc-cor-texto-secundario); font-weight: 500; margin-bottom: 5px; transition: all 0.2s; }
.fc-config-menu-item:hover { background-color: #e9ecef; color: var(--fc-cor-texto-principal); }
.fc-config-menu-item.active { background-color: var(--fc-cor-primaria); color: #fff; }
.fc-config-content { flex-grow: 1; }
.fc-config-panel { display: none; }
.fc-config-panel.active { display: block; }
.fc-table-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.fc-table-title { font-size: 1.2rem; font-weight: 600; margin: 0; }
.fc-grupo-acordeao .grupo-header { background-color: #f8f9fa; padding: 10px 15px; font-weight: 600; border: 1px solid var(--fc-cor-borda); border-radius: 6px; margin-top: 15px; }
.fc-grupo-acordeao .categorias-lista td { padding-left: 30px; }

.fc-notificacoes-painel { position: absolute; top: 75px; right: 30px; width: 450px; max-width: 90vw; background-color: var(--fc-cor-fundo-card); border-radius: var(--fc-raio-borda); box-shadow: 0 5px 25px rgba(0,0,0,0.15); z-index: 1100; border: 1px solid var(--fc-cor-borda); opacity: 0; transform: translateY(-10px); transition: opacity 0.2s ease, transform 0.2s ease; pointer-events: none; }
.fc-notificacoes-painel:not(.hidden) { opacity: 1; transform: translateY(0); pointer-events: auto; }
.fc-notificacoes-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; border-bottom: 1px solid var(--fc-cor-borda); }
.fc-notificacoes-header h3 { margin: 0; font-size: 1rem; font-weight: 600; }
.fc-link-btn { background: none; border: none; color: var(--fc-cor-primaria); font-size: 0.8rem; cursor: pointer; font-weight: 500; }
.fc-link-btn:hover { text-decoration: underline; }
.fc-notificacoes-lista { max-height: 400px; overflow-y: auto; }
.fc-notificacoes-lista .sem-notificacoes { padding: 20px; text-align: center; color: var(--fc-cor-texto-secundario); }
.fc-notificacao-item { display: flex; gap: 15px; padding: 15px; border-bottom: 1px solid var(--fc-cor-borda); cursor: pointer; transition: background-color 0.2s; }
.fc-notificacao-item:hover { background-color: #f8f9fa; }
.fc-notificacao-item:last-child { border-bottom: none; }
.fc-notificacao-item.nao-lida { background-color: #eaf2f8; }
.fc-notificacao-item .icone { font-size: 1.2rem; flex-shrink: 0; }
.fc-notificacao-item .icone.sucesso { color: var(--fc-cor-receita); }
.fc-notificacao-item .icone.rejeicao { color: var(--fc-cor-despesa); }
.fc-notificacao-item .icone.info { color: var(--fc-cor-primaria); }
.fc-notificacao-item .conteudo .mensagem { font-size: 0.9rem; line-height: 1.4; margin-bottom: 5px; }
.fc-notificacao-item .conteudo .data { font-size: 0.75rem; color: var(--fc-cor-texto-secundario); }

.fc-log-card { display: flex; gap: 15px; padding: 15px 0; border-bottom: 1px solid var(--fc-cor-borda); }
.fc-log-card:last-child { border-bottom: none; }
.fc-log-card .icone { font-size: 1.2rem; color: var(--fc-cor-texto-secundario); width: 30px; text-align: center; flex-shrink: 0; }
.fc-log-card .conteudo .detalhes { font-size: 0.95rem; line-height: 1.5; }
.fc-log-card .conteudo .meta { font-size: 0.8rem; color: var(--fc-cor-texto-secundario); margin-top: 5px; }

/* ==========================================================================
   8. COMPONENTES GERAIS (BOTÕES, MODAIS, TABELAS, ETC.)
   ========================================================================== */
.fc-btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 18px; font-size: 0.9rem; font-weight: 600; border-radius: 6px; border: none; cursor: pointer; transition: all 0.2s; color: #fff; }
.fc-btn-primario { background-color: var(--fc-cor-primaria); }
.fc-btn-primario:hover { background-color: var(--fc-cor-primaria-hover); }
.fc-btn-secundario { background-color: var(--fc-cor-secundaria); }
.fc-btn-secundario:hover { background-color: var(--fc-cor-secundaria-hover); }
.fc-btn-outline { background-color: transparent; color: var(--fc-cor-primaria); border: 1px solid var(--fc-cor-primaria); }
.fc-btn-outline:hover { background-color: var(--fc-cor-primaria); color: #fff; }
.fc-btn-disabled { background-color: #e9ecef !important; color: #adb5bd !important; border-color: #dee2e6 !important; cursor: not-allowed !important; opacity: 0.8; }
/* Novo: Estilo para o spinner dentro do botão */
.fc-btn .fc-btn-spinner {
    animation: fc-spin 1s linear infinite;
}

/* Novo: Garante que o botão desabilitado com spinner mantenha a aparência correta */
.fc-btn:disabled {
    background-color: #e9ecef !important;
    color: #adb5bd !important;
    border-color: #dee2e6 !important;
    cursor: not-allowed !important;
    opacity: 0.8;
}
.fc-fab {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    color: #fff;
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    cursor: pointer;
    transition: transform 0.2s, background-color 0.2s, box-shadow 0.2s;
}

.fc-fab:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(0,0,0,0.3);
}

/* Botão Principal: Novo Lançamento (+) */
#btnNovoLancamento {
    background-color: var(--fc-cor-primaria);
}
#btnNovoLancamento:hover {
    background-color: var(--fc-cor-primaria-hover);
}

/* Botão Secundário: Nova Transferência */
#btnNovaTransferencia {
    background-color: var(--fc-cor-secundaria);
    font-size: 1.3rem; /* Ícone um pouco menor */
}
#btnNovaTransferencia:hover {
    background-color: var(--fc-cor-secundaria-hover);
}



/* --- Modais --- */
.fc-modal { display: none; position: fixed; z-index: 1050; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); justify-content: center; align-items: center; padding: 10px; }
.fc-modal-content { display: flex; 
    flex-direction: column; 
    background-color: var(--fc-cor-fundo-card); 
    border-radius: var(--fc-raio-borda); 
    width: 100%; 
    max-width: 700px; 
    max-height: 90vh; 
    position: relative; 
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.5); 
    padding:10px;
}
.fc-modal-content .fc-section-title {
    padding: 20px 25px 0 25px; /* Espaçamento do título */
    margin-bottom: 15px;      /* Espaço abaixo do título */
    flex-shrink: 0;           /* Impede que o header encolha */
}
.fc-modal-close { 
    position: absolute; 
    top: 15px; 
    right: 15px; 
    width: 32px; 
    height: 32px; 
    border-radius: 50%; 
    background-color: transparent; 
    color: var(--fc-cor-texto-secundario); 
    border: none; cursor: pointer; 
    font-size: 1.2rem; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    z-index: 10; 
    transition: background-color 0.2s, color 0.2s; 
}

.fc-modal-close:hover { 
    background-color: #f0f3f5; 
    color: var(--fc-cor-despesa); 
}


.fc-modal-body {
    flex-grow: 1;              /* Faz o corpo ocupar todo o espaço vertical disponível */
    overflow-y: auto;          /* Adiciona a barra de rolagem APENAS AQUI quando necessário */
    padding: 0 25px 20px 25px; /* Espaçamento interno para o conteúdo */
}

.fc-modal-footer { 
    display: flex; 
    justify-content: center;   /* Centraliza os botões */
    padding: 15px 25px;       /* Espaçamento do rodapé */
    gap: 10px; 
    border-top: 1px solid var(--fc-cor-borda); 
    flex-shrink: 0;           /* Impede que o rodapé encolha */
    background-color: #f8f9fa; /* Um leve fundo para destacar a área de ações */
}

/* --- Estilo para o Input de Paginação --- */
.fc-input-paginacao {
    width: 60px; /* Largura fixa para o campo */
    padding: 6px 8px;
    font-size: 0.9rem;
    text-align: center;
    border: 1px solid #ced4da;
    border-radius: 6px;
    margin: 0 5px; /* Pequeno espaçamento lateral */
}

/* Remove as setinhas de número no Chrome, Safari, Edge */
.fc-input-paginacao::-webkit-outer-spin-button,
.fc-input-paginacao::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* --- Forms & Inputs --- */
.fc-form-group { margin-bottom: 1rem; }
.fc-form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--fc-cor-texto-secundario); font-size: 0.9rem; }
.fc-input, .fc-select, textarea.fc-input { 
    width: 100%; 
    padding: 10px 12px; 
    font-size: 1rem; 
    border: 1px solid #ced4da; 
    border-radius: 6px; 
    box-sizing: border-box;
    margin-top: 6px; 

}
.fc-form-row { display: flex; gap: 20px; }
.fc-form-row > .fc-form-group { flex: 1; }
.fc-segmented-control { display: flex; border: 1px solid var(--fc-cor-primaria); border-radius: 6px; overflow: hidden; }
.fc-segment-btn { flex-grow: 1; padding: 10px; background-color: transparent; border: none; color: var(--fc-cor-primaria); font-weight: 600; cursor: pointer; transition: background-color 0.2s, color 0.2s; }
.fc-segment-btn:not(:last-child) { border-right: 1px solid var(--fc-cor-primaria); }
.fc-segment-btn.active { background-color: var(--fc-cor-primaria); color: #fff; }

/* Autocomplete */
.fc-autocomplete-container { position: relative; }
.fc-autocomplete-results { position: absolute; width: 100%; background-color: var(--fc-cor-fundo-card); border: 1px solid var(--fc-cor-borda); border-top: none; border-radius: 0 0 var(--fc-raio-borda) var(--fc-raio-borda); box-shadow: var(--fc-sombra-padrao); max-height: 200px; overflow-y: auto; z-index: 1060; }
.fc-autocomplete-item { padding: 10px 15px; cursor: pointer; }
.fc-autocomplete-item:hover { background-color: #f0f3f5; }
.fc-autocomplete-item.is-new { font-style: italic; color: var(--fc-cor-texto-secundario); display: flex; align-items: center; gap: 8px; border-top: 1px dashed var(--fc-cor-borda); }
.fc-autocomplete-item.is-new strong { color: var(--fc-cor-texto-principal); }
.fc-autocomplete-item.is-disabled { padding: 10px 15px; color: var(--fc-cor-texto-secundario); font-style: italic; cursor: default; }
.fc-autocomplete-item .fc-autocomplete-tipo {
    color: var(--fc-cor-texto-secundario);
    font-size: 0.9em;
    margin-left: 5px;
    font-style: italic;
}


/* --- Tabelas --- */
.fc-tabela-container { overflow-x: auto; }
.fc-tabela-estilizada { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
.fc-tabela-estilizada th, .fc-tabela-estilizada td { padding: 12px 15px; border-bottom: 1px solid var(--fc-cor-borda); text-align: left; vertical-align: middle; }
.fc-tabela-estilizada th { background-color: #f8f9fa; font-weight: 600; color: #2c3e50; text-transform: uppercase; font-size: 0.8rem; }
.fc-tabela-estilizada tr:last-child td { border-bottom: none; }

/* --- Filtros e Paginação --- */
.fc-busca-e-filtros-linha { display: flex; gap: 15px; align-items: center; margin-bottom: 20px; }
.fc-filtros-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin: -15px 0 20px 0; background-color: #f8f9fa; border: 1px solid var(--fc-cor-borda); border-top: none; border-radius: 0 0 var(--fc-raio-borda) var(--fc-raio-borda); max-height: 0; overflow: hidden; padding: 0 20px; transition: max-height 0.4s ease-out, padding 0.4s ease-out; }
.fc-filtros-container:not(.hidden) { 
    max-height: 450px; 
    padding: 20px; 
}
.fc-filtros-container .fc-form-group { margin-bottom: 0; }
.fc-filtros-container .button-container { display: flex; justify-content: flex-end; align-items: center; grid-column: 1 / -1; }
#btnLimparFiltros { background-color: var(--fc-cor-texto-secundario); padding: 8px 15px; }
.fc-paginacao-container { display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 25px; padding: 10px 0; }
.fc-paginacao-container .fc-btn { padding: 8px 16px; }
.fc-paginacao-container .pagination-current { font-size: 0.9rem; color: var(--fc-cor-texto-secundario); font-weight: 500; }

/* --- Popups --- */
.fc-popup-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.4); z-index: 2000; animation: fc-fadeIn 0.3s ease; }
.fc-popup-mensagem { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: var(--fc-cor-fundo-card); padding: 25px 30px; border-radius: var(--fc-raio-borda); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); z-index: 2001; max-width: 480px; width: 90%; text-align: center; border-left: 5px solid; animation: fc-slideIn 0.3s ease-out; }
@keyframes fc-slideIn { from { opacity: 0; transform: translate(-50%, -60%); } to { opacity: 1; transform: translate(-50%, -50%); } }
.fc-popup-mensagem p { font-size: 1.05rem; line-height: 1.5; margin-bottom: 20px; font-weight: 500; }
.fc-popup-mensagem.popup-sucesso { border-left-color: var(--fc-cor-receita); }
.fc-popup-mensagem.popup-erro { border-left-color: var(--fc-cor-despesa); }
.fc-popup-mensagem.popup-aviso { border-left-color: var(--fc-cor-aviso); }
.fc-popup-mensagem.popup-info { border-left-color: var(--fc-cor-primaria); }
.fc-popup-mensagem .botoes-container { display: flex; justify-content: center; gap: 15px; margin-top: 10px; }
.fc-popup-mensagem .fc-form-group { text-align: left; margin: 15px 0; }
.fc-popup-mensagem .fc-input { width: 100%; }

/* Estilos para o container dos botões FAB */
.fc-fab-container {
    position: fixed;
    bottom: 25px;
    right: 25px;
    display: flex;
    flex-direction: column-reverse; /* IMPORTANTE: Inverte a ordem para o '+' ficar embaixo */
    align-items: center;
    gap: 15px;
    z-index: 1000;
}
.fc-fab-secundario {
    background-color: var(--fc-cor-secundaria);
    font-size: 1.3rem;
}
.fc-fab-secundario:hover {
    background-color: var(--fc-cor-secundaria-hover);
}

/* Estilo para o card de Transferência */
.fc-lancamento-card.transferencia {
    border-left-color: var(--fc-cor-primaria);
    /* Modifica o grid para acomodar o novo layout */
    grid-template-areas: "header header" "details details" "status status";
    grid-template-columns: 1fr auto;
}
.fc-lancamento-card.transferencia .valor {
    color: var(--fc-cor-texto-principal);
}
.fc-lancamento-card.transferencia .details.transferencia-details {
    display: flex;
    justify-content: space-around;
    align-items: center;
    gap: 10px;
    font-size: 0.9rem;
    width: 100%;
    grid-column: 1 / -1; /* Faz os detalhes ocuparem toda a largura */
}
.details.transferencia-details .arrow {
    font-size: 1.5rem;
    color: var(--fc-cor-texto-secundario);
}
.fc-lancamento-card.transferencia .actions {
    display: none; /* Esconde os botões de ação para transferências */
}

/* ==========================================================================
   SPINNER - OPÇÃO 1: PULSAR ELEGANTE
   ========================================================================== */
.fc-spinner {
    display: flex; 
    justify-content: center; 
    align-items: center;
    padding: 40px 25px; /* Mais padding para dar espaço */
    font-size: 0.9rem; 
    color: var(--fc-cor-texto-secundario);
    gap: 10px;
    text-align: center;
    flex-direction: column; /* Coloca o texto abaixo dos pontos */
}

/* Remove o spinner antigo */
.fc-spinner::before {
    content: none;
}

/* Cria o container para os pontos */
.fc-spinner::after {
    content: '';
    display: block;
    width: 60px; /* Largura do container dos pontos */
    height: 20px; /* Altura para alinhar */
    margin-bottom: 15px; /* Espaço entre os pontos e o texto */
    background-image: 
        radial-gradient(circle 8px, var(--fc-cor-primaria) 100%, transparent 0),
        radial-gradient(circle 8px, var(--fc-cor-primaria) 100%, transparent 0),
        radial-gradient(circle 8px, var(--fc-cor-primaria) 100%, transparent 0);
    background-repeat: no-repeat;
    background-size: 16px 16px; /* Tamanho dos pontos */
    background-position: 0 50%, 50% 50%, 100% 50%;
    animation: fc-pulsar 1.2s infinite ease-in-out;
}

@keyframes fc-pulsar {
    0% { background-position: 0 50%, 50% 50%, 100% 50%; }
    25% { background-position: 0 0, 50% 50%, 100% 50%; }
    50% { background-position: 0 50%, 50% 0, 100% 50%; }
    75% { background-position: 0 50%, 50% 50%, 100% 0; }
    100% { background-position: 0 50%, 50% 50%, 100% 50%; }
}

/* ==========================================================================
   RATEIO DE COMPRA DETALHADA - ESTILOS NOVOS
   ========================================================================== */

/* Layout da grade para o cabeçalho e para cada linha de item */
.fc-rateio-header,
.fc-rateio-linha {
    display: grid;
    /* Define as colunas: Categoria | Descrição | Valor | Ação */
    grid-template-columns: minmax(0, 2.5fr) minmax(0, 2fr) 130px 40px;
    gap: 10px;
    align-items: center;
    margin-bottom: 10px;
}

/* Estilo do cabeçalho (os textos "Categoria do Item", etc.) */
.fc-rateio-header {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--fc-cor-texto-secundario);
    padding: 0 5px 5px 5px;
    border-bottom: 1px solid var(--fc-cor-borda);
}

.fc-rateio-header span:last-child {
    text-align: center;
}

/* Estilo do botão de remover */
.fc-rateio-linha .remover-item-btn {
    background: none;
    border: none;
    color: var(--fc-cor-despesa);
    cursor: pointer;
    font-size: 1.1rem;
    padding: 5px;
    border-radius: 50%;
    width: 36px;
    height: 36px;
    transition: background-color 0.2s;
}

.fc-rateio-linha .remover-item-btn:hover {
    background-color: #fceae8;
}

/* ==========================================================================
   FEEDBACK VISUAL NO AUTOCOMPLETE INPUT
   ========================================================================== */

/* Ajusta o container para que o ícone possa ser posicionado dentro dele */
.fc-autocomplete-container {
    position: relative;
}

/* Estilo do ícone de status (check/x) */
.fc-autocomplete-status-icon {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.1rem;
    opacity: 0;
    transition: opacity 0.3s, color 0.3s;
    pointer-events: none; /* Garante que não atrapalhe o clique no input */
}

/* Estilo para quando o ícone está visível */
.fc-autocomplete-status-icon.visible {
    opacity: 1;
}

/* Adiciona um padding à direita do input para o texto não passar por baixo do ícone */
.fc-input.fc-autocomplete-input {
    padding-right: 35px;
}

/* ==========================================================================
   ESTILOS PARA OS BOTÕES DE AÇÃO DOS CARDS
   ========================================================================== */

/* Regra específica para os botões de ícone DENTRO da área de ações dos cards */
.fc-lancamento-card .actions .fc-btn-icon {
    width: 38px;
    height: 38px;
    font-size: 1rem; /* Tamanho do ícone (lápis, lixeira) */
    color: var(--fc-cor-texto-secundario);
    background-color: transparent;
    border: 1px solid transparent; /* Borda invisível para manter o tamanho */
    border-radius: 50%;
    transition: all 0.2s ease;
}

/* Efeito de hover para os botões nos cards */
.fc-lancamento-card .actions .fc-btn-icon:hover:not(:disabled) {
    background-color: #f0f3f5;
    color: var(--fc-cor-primaria);
    border-color: var(--fc-cor-borda);
}

/* Cor específica para o botão de excluir no estado normal */
.fc-lancamento-card .actions .btn-excluir-lancamento {
    color: var(--fc-cor-despesa);
}

/* Efeito de hover para o botão de excluir */
.fc-lancamento-card .actions .btn-excluir-lancamento:hover:not(:disabled) {
    background-color: #fceae8; /* Fundo avermelhado claro */
    color: #c0392b; /* Vermelho mais escuro */
    border-color: #f5c6cb;
}

/* Garante que botões desabilitados fiquem com a aparência correta */
.fc-lancamento-card .actions .fc-btn-icon:disabled {
    color: #ccc !important;
    background-color: transparent !important;
    cursor: not-allowed;
}

/* ==========================================================================
   NOVO LAYOUT DOS CARDS DE LANÇAMENTO
   ========================================================================== */
.fc-lancamento-card {
    display: flex; /* MUDANÇA PRINCIPAL: Usaremos flexbox para o layout vertical */
    flex-direction: column;
    gap: 12px; /* Espaço entre as seções do card */
    padding: 15px 20px;
    /* Removemos o grid-template-areas, pois não é mais necessário */
}

/* --- LINHA PRINCIPAL (ID, DESCRIÇÃO, VALOR) --- */
.card-main-line {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 15px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--fc-cor-borda);
}
.card-main-line .main-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}
.card-main-line .lancamento-id {
    font-size: 0.8rem;
    color: var(--fc-cor-texto-secundario);
    font-weight: 500;
}
.card-main-line .descricao {
    font-size: 1.1rem;
    font-weight: 600;
    line-height: 1.3;
}
.card-main-line .valor {
    font-size: 1.5rem;
    font-weight: 700;
    white-space: nowrap;
    margin-left: auto; /* Garante que ele fique colado à direita */
}
.fc-lancamento-card.receita .valor { color: var(--fc-cor-receita); }
.fc-lancamento-card.despesa .valor { color: var(--fc-cor-despesa); }

/* --- BLOCO DE DETALHES (FAVORECIDO, CATEGORIA, CONTA) --- */
.card-details {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Duas colunas por padrão */
    gap: 8px 20px;
    font-size: 0.9rem;
}
.card-details .detail-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--fc-cor-texto-secundario);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.card-details .detail-item i {
    color: var(--fc-cor-primaria);
}
.card-details .detail-item b {
    font-weight: 600;
    color: var(--fc-cor-texto-principal);
}

/* --- LINHA DE METADADOS (CRIADO POR, DATA, AÇÕES) --- */
.card-meta-line {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    padding-top: 10px;
    border-top: 1px solid var(--fc-cor-borda);
    font-size: 0.8rem;
    color: #6c757d;
}
.card-meta-line .meta-info {
    display: flex;
    gap: 15px;
    flex-wrap: wrap; /* Permite quebrar linha em telas menores */
}
.card-meta-line .actions {
    display: flex;
    gap: 5px;
}

/* ==========================================================================
   SPINNER DE CARREGAMENTO (3 BOLINHAS)
   ========================================================================== */
.fc-spinner-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 15px;
    padding: 40px 25px;
    text-align: center;
    min-height: 200px; /* Garante uma altura mínima para o spinner não "pular" */
}

.fc-spinner-dots {
    display: flex;
    gap: 10px;
}

.fc-spinner-dots div {
    width: 12px;
    height: 12px;
    background-color: var(--fc-cor-primaria);
    border-radius: 50%;
    animation: fc-pulsar 1.4s infinite ease-in-out both;
}

/* Define o atraso da animação para cada bolinha */
.fc-spinner-dots .dot-1 {
    animation-delay: -0.32s;
}
.fc-spinner-dots .dot-2 {
    animation-delay: -0.16s;
}
.fc-spinner-dots .dot-3 {
    animation-delay: 0s;
}

.fc-spinner-text {
    font-size: 0.9rem;
    color: var(--fc-cor-texto-secundario);
    font-weight: 500;
}

@keyframes fc-pulsar {
    0%, 80%, 100% {
        transform: scale(0);
    }
    40% {
        transform: scale(1.0);
    }
}

/* --- ESTILO PARA BOTÕES DE ÍCONE GENÉRICOS --- */
.fc-btn-icon {
    width: 38px;
    height: 38px;
    font-size: 1rem;
    color: var(--fc-cor-texto-secundario);
    background-color: transparent;
    border: 1px solid var(--fc-cor-borda);
    border-radius: 6px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
}
.fc-btn-icon:hover:not(:disabled) {
    background-color: #f0f3f5;
    color: var(--fc-cor-primaria);
}
.fc-btn-icon:disabled {
    color: #ccc !important;
    background-color: transparent !important;
    cursor: not-allowed;
}

/* --- ESTILO PARA BOTÕES DE ÍCONE DISCRETOS --- */
.fc-btn-icon-discreto {
    background: none;
    border: none;
    color: var(--fc-cor-texto-secundario);
    cursor: pointer;
    padding: 5px;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    font-size: 0.9rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
    vertical-align: middle; /* Alinha com o texto */
    margin-left: 5px;
}
.fc-btn-icon-discreto:hover {
    background-color: #e9ecef;
    color: var(--fc-cor-primaria);
}

/* --- ESTILO PARA O CONTAINER DA DESCRIÇÃO EDITÁVEL DO LOTE --- */
.descricao-lote-editavel {
    display: flex;
    align-items: center;
    gap: 5px;
}

/* ==========================================================================
   HEADER REACT V3.0 - PODEROSO
   ========================================================================== */
@keyframes fadeInHighlight {
  from { background-color: #fffbe2; }
  to { background-color: #f8f9fa; }
}

.financeiro-header-react {
    background-color: #fff;
    padding: 12px 25px;
    border-bottom: 1px solid var(--fc-cor-borda);
    box-shadow: 0 3px 8px rgba(0,0,0,0.03);
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin: 20px 20px 0 20px;
    border-radius: var(--fc-raio-borda);
    border: 1px solid var(--fc-cor-borda);
}

/* --- LINHA 1: STATUS E ALERTAS --- */
.header-linha-status {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    border-bottom: 1px solid var(--fc-cor-borda);
    padding-bottom: 12px;
}

.alertas-container {
    display: flex;
    gap: 15px;
}

.alerta-card-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 15px;
    border-radius: 8px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid transparent;
    min-width: 220px;
}
.alerta-card-header:hover {
    transform: translateY(-2px);
    box-shadow: var(--fc-sombra-padrao);
}

.alerta-icone-principal { font-size: 1.2rem; }
.alerta-icone-acao { opacity: 0; transition: opacity 0.2s; }
.alerta-card-header:hover .alerta-icone-acao { opacity: 1; }

.alerta-card-header.alerta-atrasado { background-color: #fff5f5; color: #e74c3c; border-color: #f5c6cb; }
.alerta-card-header.alerta-hoje { background-color: #fffaf0; color: #f39c12; border-color: #f7d9aa; }

.alerta-texto { display: flex; flex-direction: column; flex-grow: 1; }
.alerta-texto .alerta-contagem { font-weight: 700; }
.alerta-texto .alerta-total { font-size: 0.8rem; opacity: 0.8; }

.alerta-card-header.alerta-ok {
    background-color: #f0fdf4; /* Verde bem claro */
    color: #16a34a; /* Verde escuro */
    border-color: #bbf7d0; /* Borda verde clara */
    cursor: default; /* Não é clicável */
}

.alerta-card-header.alerta-ok:hover {
    transform: none; /* Remove o efeito de hover */
    box-shadow: none;
}

.ultima-atividade {
    font-size: 0.8rem;
    color: var(--fc-cor-texto-secundario);
    display: flex;
    align-items: center;
    gap: 8px;
    background-color: #f8f9fa;
    padding: 8px 15px;
    border-radius: 50px;
    cursor: pointer;
    transition: background-color 0.5s ease;
}
.ultima-atividade.nova-atividade {
    animation: fadeInHighlight 2.5s ease-out;
}
.ultima-atividade:hover { background-color: #e9ecef; }


/* --- LINHA 2: AÇÕES E NAVEGAÇÃO --- */
.header-linha-acoes {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
}

.navegacao-titulo h1 { margin: 0; font-size: 1.8rem; font-weight: 700; }
.acoes-principais { display: flex; align-items: center; gap: 15px; }

.busca-global-wrapper { position: relative; display: flex; align-items: center; }
.busca-global-wrapper .icone-input-busca { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--fc-cor-texto-secundario); pointer-events: none; }
.busca-global-input { padding: 10px 15px 10px 40px; border-radius: 8px; border: 1px solid var(--fc-cor-borda); min-width: 280px; font-size: 0.9rem; transition: all 0.2s ease; }
.busca-global-input:focus { outline: none; border-color: var(--fc-cor-primaria); box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2); }
.btn-abrir-busca, .btn-fechar-busca { display: none; } /* Escondidos no desktop */

/* Seletor de Período */
.seletor-periodo-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background-color: #f8f9fa;
    border: 1px solid var(--fc-cor-borda);
    padding: 10px 15px;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}
.seletor-periodo-btn:hover { background-color: #e9ecef; border-color: #ced4da; }
.seletor-periodo-btn .fa-chevron-down { font-size: 0.7rem; margin-left: 5px; }

.grupo-icones-status { display: flex; align-items: center; gap: 5px; padding-left: 15px; border-left: 1px solid var(--fc-cor-borda); }

.btn-voltar-header {
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 0;
    color: var(--fc-cor-texto-principal);
}

.btn-voltar-header:hover {
    color: var(--fc-cor-primaria);
}

.btn-voltar-header .fa-chevron-left {
    font-size: 1.5rem;
}

.btn-voltar-header h1 {
    font-size: 1.8rem;
    font-weight: 700;
}


/* Esconde o header antigo */
main.fc-main-container > .fc-content-wrapper > .fc-header {
    display: none;
}

/* ==========================================================================
   COMPONENTE SEARCHABLE SELECT (REACT)
   ========================================================================== */
.searchable-select-wrapper {
    position: relative;
}

.searchable-select-input-container {
    position: relative;
}

.searchable-select-input-container .clear-btn {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    color: var(--fc-cor-texto-secundario);
    font-size: 0.9rem;
    padding: 5px;
}
.searchable-select-input-container .clear-btn:hover {
    color: var(--fc-cor-despesa);
}
/* Adiciona padding para o texto do input não passar por baixo do botão "X" */
.searchable-select-input-container .fc-input {
    padding-right: 35px;
}

.searchable-select-dropdown {
    position: absolute;
    top: 105%;
    left: 0;
    width: 100%;
    max-height: 250px;
    overflow-y: auto;
    background-color: #fff;
    border: 1px solid var(--fc-cor-borda);
    border-radius: var(--fc-raio-borda);
    box-shadow: var(--fc-sombra-padrao);
    z-index: 1060; /* Deve ficar acima dos outros elementos do modal */
}

.searchable-select-dropdown .dropdown-item {
    padding: 12px 15px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.searchable-select-dropdown .dropdown-item:hover {
    background-color: #f0f3f5;
}

.searchable-select-dropdown .dropdown-item-disabled {
    padding: 12px 15px;
    color: var(--fc-cor-texto-secundario);
    font-style: italic;
}

/* ==========================================================================
   COMPONENTE AUTOCOMPLETE API (REACT)
   ========================================================================== */
.autocomplete-api-wrapper {
    position: relative;
}

.autocomplete-input-container {
    position: relative;
}
.autocomplete-input-container .fc-input {
    padding-right: 35px;
}

.autocomplete-input-container .status-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--fc-cor-texto-secundario);
}
.autocomplete-input-container .status-icon.success {
    color: var(--fc-cor-receita);
}
.autocomplete-input-container .status-icon.error {
    color: var(--fc-cor-despesa);
}

.autocomplete-dropdown {
    position: absolute;
    top: 105%;
    left: 0;
    width: 100%;
    max-height: 250px;
    overflow-y: auto;
    background-color: #fff;
    border: 1px solid var(--fc-cor-borda);
    border-radius: var(--fc-raio-borda);
    box-shadow: var(--fc-sombra-padrao);
    z-index: 1060;
}

.autocomplete-dropdown .dropdown-item {
    padding: 12px 15px;
    cursor: pointer;
    transition: background-color 0.2s;
}
.autocomplete-dropdown .dropdown-item:hover {
    background-color: #f0f3f5;
}
.autocomplete-dropdown .item-type {
    font-size: 0.8rem;
    color: var(--fc-cor-texto-secundario);
    margin-left: 8px;
}

.autocomplete-dropdown .dropdown-item-disabled {
    padding: 12px 15px;
    color: var(--fc-cor-texto-secundario);
    font-style: italic;
}

/* ==========================================================================
   NOVO FEED DE ATIVIDADES (HISTÓRICO)
   ========================================================================== */
.feed-atividades-container {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Espaço entre os itens do log */
}

.log-item-container {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: var(--fc-raio-borda);
    border: 1px solid var(--fc-cor-borda);
}

.log-item-icone {
    flex-shrink: 0;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 1.1rem;
}

.log-item-conteudo {
    flex-grow: 1;
}

.log-item-detalhes {
    margin: 0 0 5px 0;
    font-size: 0.95rem;
    line-height: 1.5;
    color: var(--fc-cor-texto-principal);
}
/* Estiliza o texto em negrito que vem da API */
.log-item-detalhes strong {
    font-weight: 600;
}

.log-item-meta {
    margin: 0;
    font-size: 0.8rem;
    color: var(--fc-cor-texto-secundario);
}

/* ==========================================================================
   9. RESPONSIVIDADE
   ========================================================================== */

@media (max-width: 1024px) { 
    body { margin-left: 0; 
    } 
}

@media (max-width: 768px) {
    .log-item-detalhes{
        word-break: break-word
    }
    .ultima-atividade {
        display: flex;
        justify-content: center;
        order: 2;
        font-size: 0.75rem;
        text-align: center; 
    }

    .fc-content-wrapper { 
        box-shadow: none; 
        border-left: none; 
        border-right: none;
    }
    .fc-header { padding: 10px 15px; }
    .fc-breadcrumbs { 
        font-size: 1.5rem; 
    }
    .fc-breadcrumbs a { display: none; }
    .fc-breadcrumbs .separator { display: none; }
    .fc-tabs-container { padding: 0 15px; }
    .fc-tabs-content { padding: 15px; }
    .fc-saldos-grid, .fc-alertas-grid, .fc-agenda-cards-container { grid-template-columns: 1fr; }
    .fc-config-layout { flex-direction: column; }
    .fc-config-menu { flex: 1; display: flex; overflow-x: auto; border-bottom: 1px solid var(--fc-cor-borda); margin-bottom: 20px; }
    .fc-config-menu-item { flex-shrink: 0; }
    .fc-tabela-container .fc-tabela-estilizada thead { display: none; }
    .fc-tabela-container .fc-tabela-estilizada tr { display: block; border: 1px solid var(--fc-cor-borda); border-radius: var(--fc-raio-borda); padding: 15px; margin-bottom: 15px; }
    .fc-tabela-container .fc-tabela-estilizada td { display: flex; justify-content: space-between; padding: 10px 0; text-align: right; border-bottom: 1px dotted #e9ecef; }
    .fc-tabela-container .fc-tabela-estilizada td:last-child { border-bottom: none; }
    .fc-tabela-container .fc-tabela-estilizada td::before { content: attr(data-label); font-weight: 600; text-align: left; margin-right: 15px; color: var(--fc-cor-texto-principal); }
    .fc-form-row { flex-direction: column; gap: 0; }
    .fc-form-row > .fc-form-group { margin-bottom: 1rem; }

    .fc-aprovacao-alteracoes-lista li {
        grid-template-columns: 1fr;
        gap: 5px;
    }
    .fc-aprovacao-alteracoes-lista .label {
        text-align: left;
        font-size: 0.8rem;
        text-transform: uppercase;
    }

    .fc-rateio-header {
        display: none; /* Esconde o cabeçalho no mobile, pois os campos já têm label */
    }
    .fc-rateio-linha {
        display: block; /* Desfaz a grade e volta para o layout de bloco (empilhado) */
        border: 1px solid var(--fc-cor-borda);
        padding: 15px;
        border-radius: var(--fc-raio-borda);
    }
    
    /* Adiciona margem entre os campos no layout empilhado */
    .fc-rateio-linha .fc-select,
    .fc-rateio-linha .fc-input {
        margin-bottom: 15px;
    }

    .fc-rateio-linha .remover-item-btn {
        display: block; /* Faz o botão ocupar a linha inteira */
        width: 100%;
        background-color: #fff5f5;
        border-radius: var(--fc-raio-borda);
    }


    .fc-agenda-grupo-header {
        flex-direction: column; /* Empilha os itens verticalmente */
        align-items: stretch; /* Faz os itens ocuparem a largura toda */
    }

    .fc-agenda-grupo-header .resumo-grupo {
        justify-content: space-between; /* Espalha os itens do resumo */
        margin-top: 10px;
        padding-top: 10px;
        border-top: 1px dashed var(--fc-cor-borda);
    }
    .fc-tab-btn {
    font-size: 1.5rem;
    }

    /* --- RESPONSIVIDADE DA MINI-TABELA DE RATEIO --- */
    .item-detalhe-header {
        display: none; /* Esconde o cabeçalho no mobile */
    }
    .item-detalhe-row {
        display: block; /* Desfaz o grid, empilhando os itens */
        padding: 10px 0;
    }
    .item-detalhe-row div {
        display: flex;
        justify-content: space-between; /* Alinha label e valor */
        padding: 5px 0;
        text-align: right; /* Alinha o valor à direita */
    }
    .item-detalhe-row div::before {
        content: attr(data-label) ":"; /* Usa o data-label como título da linha */
        font-weight: 600;
        text-align: left;
        margin-right: 10px;
        color: var(--fc-cor-texto-principal);
    }
    .item-detalhe-row div[data-label="Valor"] {
        font-size: 1.1em;
        font-weight: 600;
    }
    .financeiro-header-react { 
        padding: 12px 15px; 
        border-radius: var(--fc-raio-borda); 
    }
    
    .header-linha-status {
        flex-direction: column; /* Empilha os itens verticalmente */
        align-items: stretch; /* Faz os itens ocuparem a largura toda */
        gap: 12px;
    }

    .ultima-atividade {
        display: flex; /* Garante que ela seja visível */
        justify-content: center; /* Centraliza o texto/ícone dentro dela */
        order: 2; /* Garante que ela fique no meio, se necessário */
    }

    .alertas-container {
        justify-content: center;
        order: 1; /* Garante que os alertas fiquem no topo */
        flex-wrap: wrap;
    }

    .header-linha-acoes .navegacao-titulo { flex-grow: 1; }
    .header-linha-acoes h1 { 
        font-size: 1.2rem; 
    }

    .busca-global-input, .seletor-periodo-wrapper { display: none; }

    .btn-abrir-busca { 
        display: block; 
        background: none; 
        border: none; 
        font-size: 1rem; 
        cursor: pointer; 
        color: var(--fc-cor-texto-secundario); 
    }

    .busca-global-wrapper .icone-input-busca {
        display: none;
    }

     /* MODO BUSCA ATIVO NO MOBILE */
    .header-linha-acoes.modo-busca .navegacao-titulo,
    .header-linha-acoes.modo-busca .btn-abrir-busca,
    .header-linha-acoes.modo-busca .grupo-icones-status { display: none; }

    .header-linha-acoes.modo-busca .busca-global-wrapper { flex-grow: 1; }
    .header-linha-acoes.modo-busca .busca-global-input { display: block; width: 100%; min-width: 0; }
    .header-linha-acoes.modo-busca .btn-fechar-busca { display: block; background: none; border: none; font-size: 1.2rem; cursor: pointer; color: var(--fc-cor-texto-secundario); }

    .header-linha-acoes.modo-busca .busca-global-wrapper .icone-input-busca {
        display: block;
    }

    .fc-filtros-container .button-container {
        justify-content: center; /* Centraliza o botão no mobile */
        margin-top: 10px; /* Adiciona um espaço acima do botão */
    }

    .fc-filtros-container:not(.hidden) {
        max-height: 1000px; 
    }

}


@media (max-width: 480px) {
    .fc-header { padding: 8px 10px; }
    .fc-header-actions {
    margin-top: 30px;
    }
    .fc-btn {
        padding: 12px 14px;
        font-size: 0.8rem;
    }

    .fc-header-actions .fc-btn-icon { 
        width: 38px; 
        height: 38px; 
        font-size: 1.1rem; 
    }

    /* --- AJUSTE NOS CABEÇALHOS DAS ABAS PARA MOBILE --- */
    /* Layout para a aba LANÇAMENTOS */
    #tab-lancamentos .fc-table-header {
        display: flex; /* Mantém na mesma linha */
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px; /* Adiciona espaço antes da linha de busca */
    }

    /* Layout para a aba AGENDA */
    #tab-agenda .fc-table-header {
        display: flex; /* Transforma em flex container */
        justify-content: space-between; /* Alinha os itens nas extremidades */
        align-items: center;
        gap: 15px; /* Espaço entre as linhas */
    }
    #tab-agenda .fc-table-header .fc-section-title {
        order: 1; /* Move o título para a segunda "posição" */
        width: auto; /* Garante que o título não ocupe a linha toda */
    }
    #tab-agenda .fc-table-header .fc-header-actions {
        order: 1; /* Move o grupo de botões para a primeira "posição" */
        width: 100%; /* Faz o grupo de botões ocupar a primeira linha inteira */
        justify-content: flex-end; /* Alinha os botões dentro dele à direita */
    }
    #tab-agenda .fc-header-actions #btnAtualizarAgenda {
        order: 1; /* Botão "Atualizar" fica em segundo no grupo */
    }
    #tab-agenda .fc-header-actions #btnAgendarNovaConta {
        order: 2; /* Botão "+ Agendar" fica em primeiro no grupo */
    }

    .fc-desktop-only-actions { display: none; }
    .fc-mobile-only-menu { display: block; }
    .fc-tabs-container { overflow-x: auto; padding: 0 10px;}
    .fc-tabs-content { padding: 15px 10px; }
    .fc-fab { width: 55px; height: 55px; right: 15px; bottom: 15px; }
    .fc-notificacoes-painel { width: 95vw; right: 2.5vw; }
    .fc-modal-content {
        max-width: 95vw; /* Garante que o modal use quase toda a tela */
        max-height: 85vh;
        padding:10px;
    }

    .fc-input, .fc-select, textarea.fc-input{
        font-size: 0.9rem;
    }

    .fc-tab-btn {
        font-size: 1.2rem;
    }

    .fc-popup-mensagem {
        max-width: 33vh;
    }
    .fc-fab-container {
        bottom: 15px;
        right: 15px;
    }
    .fc-fab {
        width: 55px;
        height: 55px;
    }
    .fc-paginacao-container {
        gap: 5px;
    }
    .fc-paginacao-container .pagination-current {
    font-size: 0.85rem;
    }
    .fc-input-paginacao {
    width: 40px;
    padding: 6px 8px;
    font-size: 0.85rem;
    }

    .fc-paginacao-container .fc-btn {
        padding: 8px 10px;
    }

    /* --- AJUSTES NOVO CARD DE LANÇAMENTO PARA MOBILE --- */
     .fc-lancamento-card {
        gap: 10px;
        padding: 12px 15px;
    }

    .card-main-line {
        flex-direction: column; /* Empilha descrição e valor */
        align-items: stretch; /* Ocupa toda a largura */
        gap: 5px;
        border-bottom: 1px dashed var(--fc-cor-borda);
        padding-bottom: 10px;
    }
    .card-main-line .valor {
        text-align: right; /* Alinha o valor à direita no mobile */
        font-size: 1.5rem;
    }

    /* Detalhes viram uma única coluna */
    .card-details {
        grid-template-columns: 1fr;
        gap: 6px;
    }

    /* --- AQUI ESTÃO AS MUDANÇAS --- */
    /* Meta linha agora alinha os itens lado a lado */
    .card-meta-line {
        flex-direction: row; /* Alinha na horizontal */
        justify-content: space-between; /* Espaça os itens */
        align-items: center; /* Centraliza verticalmente */
        gap: 10px;
    }
    .card-meta-line .actions {
        display: flex;
        flex-direction: column; /* Empilha os botões na vertical */
        gap: 5px;
    }

    
     /* --- AJUSTES NOS BOTÕES DOS CARDS DA AGENDA PARA MOBILE --- */
    .fc-agenda-card .card-meta-line .actions {
        flex-direction: row; /* Alinha o grupo de botões e a setinha lado a lado */
        align-items: flex-end; /* Alinha na base */
    }

    /* Garante que o grupo principal de botões ocupe todo o espaço à esquerda */
    .fc-agenda-card .actions-main-group {
        width: 100%;
    }

    .fc-agenda-card .actions-secondary {
        display: flex; 
        gap: 8px;
    }

    .fc-agenda-card .actions-secondary > .fc-btn {
        flex-grow: 1;
        width: 50%;
    }
    .fc-agenda-card .btn-dar-baixa {
        width: 100%;
    }
        
    /* Garante que a setinha dos cards de RATEIO AVULSO apareça */
    .fc-agenda-card[data-rateio-tipo] .btn-toggle-agenda-details {
        display: flex !important;
    }

    /* Garante que a setinha dos LOTES também apareça */
    .fc-agenda-card[data-lote="true"] .btn-toggle-agenda-details {
        display: flex !important; 
    }

    /* --- TRANSFORMA O BOTÃO "+ AGENDAR NOVO" EM UM ÍCONE "+" NO MOBILE --- */
    #tab-agenda #btnAgendarNovaConta {
        font-size: 0; /* Esconde o texto "Agendar Novo" */
        width: 42px;  /* Define uma largura fixa */
        height: 42px; /* Define uma altura fixa */
        border-radius: 50%; /* Deixa o botão redondo */
        padding: 0; /* Remove o padding interno */
        position: relative; /* Necessário para o pseudo-elemento */
    }

    #tab-agenda #btnAgendarNovaConta i {
        display: none; /* Esconde o ícone original do Font Awesome */
    }

    #tab-agenda #btnAgendarNovaConta::before {
        content: '+'; /* Adiciona o símbolo de "+" */
        font-size: 1.8rem; /* Tamanho do "+" */
        font-weight: 300; /* Deixa o "+" mais fino e elegante */
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        line-height: 1; /* Garante alinhamento vertical perfeito */
    }

    /* Permite rolagem horizontal nas abas do modal em telas pequenas  */
    .fc-modal .fc-segmented-control {
        display: flex;
        overflow-x: auto; /* A mágica acontece aqui */
        -webkit-overflow-scrolling: touch; /* Melhora a experiência em iOS */
        scrollbar-width: none; /* Esconde a barra de rolagem no Firefox */
    }
    /* Esconde a barra de rolagem no Chrome/Safari/Edge */
    .fc-modal .fc-segmented-control::-webkit-scrollbar {
        display: none;
    }

    .fc-modal .fc-segmented-control .fc-segment-btn {
        flex-shrink: 0; /* Impede que os botões encolham */
        white-space: nowrap; /* Garante que o texto do botão não quebre linha */
    }

    .alerta-texto .alerta-total { display: none; } /* Esconde o valor total, mostra só a contagem */
    .alerta-card-header { gap: 8px; padding: 8px 10px; }
    .acoes-principais { gap: 8px; }
    .grupo-icones-status { 
        padding-left: 8px; 
        gap: 6px;
    }


}

@media (max-width: 414px) {
    .fc-tab-btn .fc-tab-text { display: none; }
    .fc-tab-btn { padding: 12px 18px; }
    .fc-modal-content {
        max-width: 38vh;
        max-height: 85vh;
        padding:10px;
    }
    .header-linha-acoes h1 {
        font-size: 1.1rem;
    }

    .fc-btn-icon {
    width: 34px;
    height: 34px;
    }

    .log-item-detalhes {
    font-size: 0.8rem;
    }

}

@media (max-width: 399px) {
    .fc-lancamentos-cards-container {
        display: block; /* Desativa o Grid e volta para o fluxo de bloco padrão */
        gap: 0; /* O gap não funciona com display: block */
    }

    /* Substituímos o 'gap' por uma 'margin' em cada card, exceto o último */
    .fc-lancamentos-cards-container .fc-lancamento-card-wrapper:not(:last-child) {
        margin-bottom: 15px;
    }

    /* Outros ajustes finos para ganhar espaço */
    .fc-lancamento-card {
        padding: 12px;
        gap: 5px 10px;
    }

    .fc-lancamento-card .descricao {
        font-size: 1rem;
    }
    
    .fc-lancamento-card .valor {
        font-size: 1.1rem;
    }
    .fc-modal-content {
        max-width: 55vh;
        max-height: 85vh;
    }
    .fc-saldo-hero-title {
    font-size: 0.8rem;
    }

    .fc-btn-atualizar {
    font-size: 0.7rem;
    }
    
    .fc-btn {
        padding: 8px 12px;
        font-size: 0.8rem;
    }
    .alerta-card-header {
        font-size: 0.7rem;
    }

    .fc-btn-icon {
        width: 30px;
        height: 30px;
        font-size: 0.85rem;
    }
    .header-linha-acoes h1 {
        font-size: 1rem;
    }

    .btn-voltar-header .fa-chevron-left{
    font-size: 1rem;
    }



}