/* public/css/embalagem-de-produtos.css */

/*------------------------------------*\
    #VARIÁVEIS GLOBAIS (EP = Embalagem Produtos)
\*------------------------------------*/
:root {
    --ep-cor-fundo-pagina: #f4f6f8;
    --ep-cor-texto-principal: #333;
    --ep-cor-azul-escuro: #2c3e50;     /* Títulos, texto importante */
    --ep-cor-azul-primario: #3498db;   /* Botões primários, links */
    --ep-cor-azul-hover: #2980b9;
    --ep-cor-azul-subtitulo: #5a7c9b;  /* Subtítulos, info */
    --ep-cor-verde-sucesso: #27ae60;   /* Sucesso, botões de salvar */
    --ep-cor-verde-hover: #229954;
    --ep-cor-vermelho-perigo: #e74c3c; /* Erro, botões de excluir */
    --ep-cor-vermelho-hover: #c0392b;
    --ep-cor-laranja-aviso: #f39c12;   /* Avisos */
    --ep-cor-amarelo-destaque: #f1c40f;/* Destaques de quantidade */
    --ep-cor-cinza-texto-secundario: #7f8c8d; /* Labels, texto menos importante */
    --ep-cor-cinza-borda: #dcdfe4;         /* Bordas */
    --ep-cor-cinza-borda-card: #dcdfe4;
    --ep-cor-cinza-fundo-input: #f8f9fa;   /* Fundo de inputs */
    --ep-cor-cinza-fundo-alternativo: #f9fbfd; /* Para fundos de seção leves */
    --ep-cor-branco: #ffffff;
    --ep-cor-status-pronto: var(--ep-cor-cinza-borda-card); 

    --ep-sombra-padrao: 0 4px 12px rgba(0, 0, 0, 0.08);
    --ep-sombra-hover: 0 6px 16px rgba(0, 0, 0, 0.12);
    --ep-sombra-interna: inset 0 2px 4px rgba(0, 0, 0, 0.05);

    --ep-raio-borda-container: 10px;
    --ep-raio-borda-card: 8px;
    --ep-raio-borda-input: 6px;
    --ep-raio-borda-botao: 6px;

     --ep-cor-label-dado: #6c757d;
    --ep-cor-valor-dado: var(--ep-cor-azul-primario); /* Cor padrão para valores nos dados */

    --ep-font-principal: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/*------------------------------------*\
    #RESET BÁSICO E ESTILOS DE BODY
\*------------------------------------*/
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px;
}

body {
    font-family: var(--ep-font-principal);
    background-color: var(--ep-cor-fundo-pagina);
    color: var(--ep-cor-texto-principal);
    line-height: 1.6;
    visibility: hidden; 
    margin-left: 250px; 
    transition: margin-left 0.3s ease;
}

body.autenticado {
    visibility: visible;
}

@media (max-width: 1024px) {
    body {
        margin-left: 0;
    }
}

/*------------------------------------*\
    #LAYOUT PRINCIPAL DA PÁGINA
\*------------------------------------*/
.container-ep{
    padding: 25px;
}

.ep-container-principal {
    padding: 20px;
    max-width: 1400px;
    margin-left: auto;
    margin-right: auto;
}

.ep-cabecalho-pagina {
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--ep-cor-azul-primario);
}

.ep-cabecalho-pagina h1 {
    font-size: 2rem;
    color: var(--ep-cor-azul-escuro);
    font-weight: 600;
}

.ep-card {
    background-color: var(--ep-cor-branco);
    border-radius: var(--ep-raio-borda-container);
    padding: 25px;
    box-shadow: var(--ep-sombra-padrao);
    margin-bottom: 30px;
}

.ep-titulo-secao {
    font-size: 1.6rem;
    color: var(--ep-cor-azul-escuro);
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eaeaea;
    font-weight: 500;
}

.ep-descricao-secao {
    font-size: 0.95rem;
    color: var(--ep-cor-cinza-texto-secundario);
    margin-bottom: 20px;
    line-height: 1.5;
    text-align: center; 
    font-style: italic;
}

.ep-subtitulo {
    font-size: 1.1rem;
    color: var(--ep-cor-azul-subtitulo);
    margin-bottom: 10px;
    font-weight: 500;
}

.ep-section-description{
    text-align: center; 
    font-style: italic; 
    color: var(--ep-cor-cinza-texto);
}

/*------------------------------------*\
    #ELEMENTOS DE FORMULÁRIO
\*------------------------------------*/
.ep-form-estilizado .ep-form-grupo {
    margin-bottom: 20px;
}
.ep-form-estilizado label {
    display: block;
    font-size: 0.9rem;
    color: var(--ep-cor-cinza-texto-secundario);
    margin-bottom: 8px;
    font-weight: 500;
}

.ep-input-embalar-produto{
    width: 100%;
    padding: 10px 14px;
    font-size: 0.95rem;
    border: 1px solid var(--ep-cor-cinza-borda);
    border-radius: var(--ep-raio-borda-input);
    background-color: var(--ep-cor-cinza-fundo-input);
    color: var(--ep-cor-texto-principal);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;

}

.ep-titulo-variacao-prod{
    font-size: 1.2rem;

}
.ep-subtitulo-secao {
    font-size: 1.2rem; 
    text-align:center;
}



.ep-input,
.ep-select,
.ep-textarea {
    width: 100%;
    padding: 10px 14px;
    font-size: 0.95rem;
    border: 1px solid var(--ep-cor-cinza-borda);
    border-radius: var(--ep-raio-borda-input);
    background-color: var(--ep-cor-cinza-fundo-input);
    color: var(--ep-cor-texto-principal);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.ep-input:focus,
.ep-select:focus,
.ep-textarea:focus {
    outline: none;
    border-color: var(--ep-cor-azul-primario);
    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2); /* Corrigido para usar RGB da variável */
}
.ep-input[readonly], .ep-input:disabled,
.ep-select:disabled, .ep-textarea:disabled {
    background-color: #e9ecef;
    cursor: not-allowed;
    opacity: 0.8;
}

/* Botões */
.ep-btn {
    padding: 10px 20px;
    font-size: 0.95rem;
    font-weight: 500;
    border-radius: var(--ep-raio-borda-botao);
    border: none; /* Removido '1px solid transparent' para que as cores de fundo funcionem melhor */
    cursor: pointer;
    transition: background-color 0.2s ease, transform 0.15s ease, box-shadow 0.15s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: var(--ep-cor-azul-primario);
    gap: 8px;
    text-decoration: none;
    color: var(--ep-cor-branco); /* Cor de texto padrão para botões com fundo */
}
.ep-btn i {
    font-size: 1em; 
}
.ep-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.12);
}
.ep-btn:disabled {
    opacity: 0.65;
    cursor: not-allowed;
}

/* ****** ADICIONADO BACKGROUNDS PARA BOTÕES ****** */
.ep-btn-primario { background-color: var(--ep-cor-azul-primario); }
.ep-btn-primario:hover:not(:disabled) { background-color: var(--ep-cor-azul-hover); }

.ep-btn-sucesso { background-color: var(--ep-cor-verde-sucesso); }
.ep-btn-sucesso:hover:not(:disabled) { background-color: var(--ep-cor-verde-hover); }

.ep-btn-perigo { background-color: var(--ep-cor-vermelho-perigo); }
.ep-btn-perigo:hover:not(:disabled) { background-color: var(--ep-cor-vermelho-hover); }

.ep-btn-secundario {
    background-color: var(--ep-cor-cinza-texto-secundario);
    color: var(--ep-cor-branco);
}
.ep-btn-secundario:hover:not(:disabled) { background-color: #6a7879; } /* Um cinza mais escuro */

.ep-btn-aviso {
    background-color: var(--ep-cor-laranja-aviso);
    color: var(--ep-cor-branco);
}
.ep-btn-aviso:hover:not(:disabled) { background-color: #d68910; } /* Laranja mais escuro */

.ep-btn-link { /* Botão com aparência de link, se necessário */
    background-color: transparent;
    color: var(--ep-cor-azul-primario);
    padding-left: 5px;
    padding-right: 5px;
    box-shadow: none;
}
.ep-btn-link:hover:not(:disabled) {
    color: var(--ep-cor-azul-hover);
    text-decoration: underline;
    transform: none; /* Sem efeito de levantar */
}
/* ****** FIM ADIÇÃO BACKGROUNDS ****** */


.ep-form-botoes {
    display: flex;
    gap: 12px;
    margin-top: 20px;
    justify-content: flex-start;
}

/*------------------------------------*\
    #FILTROS (Busca)
\*------------------------------------*/
.ep-filtros-container {
    margin-bottom: 20px;
    padding: 15px; /* Adicionado padding para o card de filtro */
    background-color: var(--ep-cor-cinza-fundo-alternativo); /* Fundo sutil */
    border-radius: var(--ep-raio-borda-card);
    border: 1px solid var(--ep-cor-cinza-borda);
}
.ep-input-busca { 
    padding: 10px 14px;
    border: 1px solid var(--ep-cor-cinza-borda);
    border-radius: var(--ep-raio-borda-input);
    font-size: 1rem;
    width: 100%; 
    max-width: 500px; 
    margin: 0 auto; /* Centraliza o input de busca */
    display: block;
}

/*------------------------------------*\
    #CARDS DE EMBALAGEM (na lista principal)
\*------------------------------------*/
/* Estilo do Card Individual de Consulta (Adaptado para EP) */
.ep-consulta-card {
    display: grid;
    /* Coluna da imagem (auto), coluna da info (ocupa o resto), coluna dos dados (auto) */
    grid-template-columns: auto 1fr auto;
    background-color: var(--ep-cor-branco);
    border-radius: var(--ep-raio-borda-card);
    box-shadow: var(--ep-sombra-padrao);
    border-left: 6px solid; /* A cor da borda vem da classe de status, ex: .status-pronto-para-embalar */
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    overflow: hidden; /* Importante para que o conteúdo não vaze */
    align-items: center; /* Alinha os itens da grade verticalmente ao centro */
    min-height: 90px; /* Garante uma altura mínima para consistência visual */
}

.ep-consulta-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.12);
}

.ep-consulta-card.status-pronto-para-embalar {
    border-left-color: var(--ep-cor-status-pronto);
}

/* REGRA PARA ITENS ANTIGOS */
.ep-consulta-card.status-aguardando-muito {
    border-left-color: var(--ep-cor-laranja-aviso); /* Usa a cor laranja de aviso */
}

.ep-consulta-card-img {
    width: 70px;
    height: 70px;
    object-fit: cover;
    margin: 15px; /* Aumenta um pouco a margem para desktop */
    border-radius: 4px;
    background-color: #f0f2f5;
}

.ep-consulta-card-info {
    padding: 15px 10px 15px 0; /* Ajusta padding, sem padding à esquerda da imagem */
    overflow: hidden; /* Para evitar que textos longos quebrem o layout */
}

.ep-consulta-card-info h3 {
    font-size: 1.05rem;
    color: var(--ep-cor-azul-escuro);
    margin: 0 0 5px 0;
    font-weight: 600;
    white-space: nowrap; /* Evita quebra de linha no título */
    overflow: hidden;
    text-overflow: ellipsis; /* Adiciona "..." se o texto for muito longo */
}

.ep-consulta-card-info p {
    font-size: 0.85rem;
    color: var(--ep-cor-cinza-texto-secundario, #6c757d);
    margin: 0 0 3px 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.ep-consulta-card-info .ep-sku-info {
    font-size: 0.8rem;
    color: #7f8c8d;
    margin-top: 5px;
    font-style: italic;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.ep-consulta-card-dados {
    display: flex;
    flex-direction: column; /* Dados empilhados verticalmente */
    gap: 12px; /* Espaço entre "Disponível" e "Aguardando" */
    padding: 15px 20px; /* Aumenta o padding lateral */
    background-color: #f8f9fa;
    border-left: 1px solid #eef0f3;
    height: 100%;
    justify-content: center;
    text-align: center;
    min-width: 120px; /* Largura mínima para a seção de dados */
}

.ep-dado-bloco .label {
    display: block;
    font-size: 0.7rem; /* Label um pouco menor */
    color: var(--ep-cor-label-dado);
    text-transform: uppercase;
    font-weight: 600;
    margin-bottom: 2px;
}

.ep-dado-bloco .valor {
    display: block;
    font-size: 1.5rem; /* Valor destacado */
    font-weight: 700;
    line-height: 1.1;
    color: var(--ep-cor-valor-dado);
}

/* Estilo para o CONTAINER da grade de cards */
.ep-embalagem-card-container {
    display: grid;
    /* Define que teremos colunas que se auto-ajustam.
       Cada coluna terá no MÍNIMO 300px.
       Se houver mais espaço, elas se expandem (1fr).
       'auto-fill' tenta preencher o espaço com o máximo de colunas possível. */
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px; /* Espaçamento entre os cards */
    margin-top: 20px; /* Espaçamento acima da grade de cards */
}

/* Estilo para a section principal da view de detalhe */
#embalarDetalheView.ep-card { /* Adiciona especificidade se necessário */
    position: relative; /* Necessário para o posicionamento absoluto do botão fechar */
    padding-top: 25px;  /* Deixa espaço no topo se o botão fechar não estiver no header */
    min-height: 400px; /* Um valor mínimo razoável */
    overflow: visible !important;    /* OU visible. 'auto' mostrará scrollbars se necessário */
}

/* NOVO CABEÇALHO DA VIEW DE DETALHE (Baseado no .movimento-header do Estoque) */
.ep-movimento-header {
    display: grid;
    /* Colunas: Thumbnail (auto), Info (1fr - flexível), Saldo (auto) */
    grid-template-columns: auto 1fr auto;
    gap: 20px;
    align-items: center; /* Alinha verticalmente os itens do grid */
    margin-bottom: 20px; /* Espaço abaixo do header, antes do divisor/abas */
    /* Removido padding-bottom e border-bottom daqui, o <hr> cuidará da divisão visual */
}

.ep-movimento-thumbnail {
    width: 80px;  /* Tamanho da imagem */
    height: 80px;
    border-radius: var(--ep-raio-borda-card); /* Borda do card para consistência */
    overflow: hidden;
    background-color: var(--ep-cor-cinza-fundo-input);
    border: 1px solid var(--ep-cor-cinza-borda);
    display: flex; /* Para centralizar a imagem se ela for menor que o container */
    align-items: center;
    justify-content: center;
}

.ep-movimento-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}


.ep-movimento-info h2 { /* #embalagemDetalheTitulo */
    font-size: 1.7rem;
    color: var(--ep-cor-azul-escuro);
    margin: 0 0 5px 0;
    font-weight: 600;
}

.ep-movimento-info p { /* #embalagemDetalheSubTitle e #embalagemDetalheSKU */
    font-size: 1rem;
    color: var(--ep-cor-cinza-texto-secundario, #6c757d);
    margin: 0 0 3px 0;
}

.ep-movimento-info .ep-sku-info-detalhe { /* Classe para o SKU se você adicionar */
    font-size: 0.85rem;
    color: #7f8c8d;
    margin-top: 5px;
}

.ep-movimento-saldo {
    text-align: center;
    background-color: var(--ep-cor-fundo-pagina); /* Fundo sutil para destacar */
    padding: 10px 20px; /* Padding interno */
    border-radius: var(--ep-raio-borda-card);
    border: 1px solid var(--ep-cor-cinza-borda);
    min-width: 150px; /* Largura mínima para este bloco */
    margin-right: 60px;
}

.ep-movimento-saldo label {
    display: block;
    font-size: 0.75rem;
    color: var(--ep-cor-cinza-texto-secundario);
    font-weight: 600;
    text-transform: uppercase;
    margin-bottom: 5px;
}

.ep-movimento-saldo span { /* #embalagemDetalheSaldoTotal */
    font-size: 2rem; /* Tamanho grande para o número */
    font-weight: 700;
    color: var(--ep-cor-azul-primario); /* Cor de destaque */
}

/* Divisor Horizontal (opcional) */
.ep-movimento-divisor {
    border: 0;
    height: 1px;
    background-color: var(--ep-cor-cinza-borda);
    margin: 0 0 25px 0; /* Margem abaixo, antes das abas */
}

/* Estilo do Botão Fechar (X) - Se já não estiver globalmente definido e posicionado) */
/* O HTML já tem: <button class="botao-fechar ep-btn-perigo" id="fecharEmbalarDetalheBtn" ...> */
/* A classe .botao-fechar e .ep-btn-perigo já devem estar definidas.
   O posicionamento é relativo à section#embalarDetalheView.ep-card */
#embalarDetalheView .botao-fechar { /* Garante que se aplique dentro desta view */
    position: absolute;
    top: 20px; /* Ajuste conforme o padding da section */
    right: 20px; /* Ajuste conforme o padding da section */
    /* Os outros estilos (tamanho, cor) vêm de .botao-fechar e .ep-btn-perigo */
}

/*------------------------------------*\
    #ABA "EMBALAR UNIDADE" - CONTEÚDO DE AÇÃO
\*------------------------------------*/

.ep-acao-embalagem-container {
    padding: 25px 15px; /* Espaçamento interno no container da aba */
    margin: 0 auto;     /* Centraliza o container de ação */
    background-color: var(--ep-cor-cinza-fundo-alternativo, #f9fbfd); /* Fundo sutil */
    border: 1px solid var(--ep-cor-cinza-borda, #e0e0e0);
    border-top: none; /* Remove a borda de cima, pois as abas já têm */
    border-radius: 0 0 var(--ep-raio-borda-card) var(--ep-raio-borda-card); /* Arredonda cantos inferiores */
}

.ep-form-grupo { /* Estilo base para grupos de formulário, você já deve ter algo similar */
    margin-bottom: 25px;
}
.ep-form-grupo:last-child {
    margin-bottom: 0;
}

.ep-grupo-quantidade {
    text-align: center; /* Centraliza o conteúdo deste grupo */
}

.ep-label-destacado {
    display: block;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--ep-cor-azul-escuro);
    margin-bottom: 10px;
}

.ep-input-com-acoes {
    display: flex;
    align-items: center; /* Alinha o input e o botão "Tudo" */
    gap: 10px;
    max-width: 350px; /* Limita a largura do input + botão "Tudo" */
    margin: 0 auto 10px auto; /* Centraliza */
}

.ep-input.ep-input-grande { /* Para o input de quantidade */
    font-size: 1.5rem; /* Tamanho da fonte maior */
    padding: 12px 15px;
    text-align: center;
    flex-grow: 1; /* Faz o input ocupar o espaço disponível */
    min-width: 80px; /* Garante que não fique muito pequeno */
}
/* Remove setas de number input (opcional, mas melhora visual com botões customizados) */
.ep-input.ep-input-grande[type=number] {
    appearance: textfield; /* Propriedade padrão */
    -webkit-appearance: textfield; /* Para compatibilidade com WebKit mais antigos, se necessário */
    margin: 0; /* Para garantir que o -webkit-appearance: none interno não afete o espaçamento */
}
/* Específico para remover as setas no WebKit/Blink (Chrome, Safari, Edge) */
.ep-input.ep-input-grande[type=number]::-webkit-outer-spin-button,
.ep-input.ep-input-grande[type=number]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0; /* Garante que não haja margem residual das setas */
}


#btnEmbalarTudoUnidade.ep-btn-secundario { /* Estilo para o botão "Tudo" */
    padding: 10px 15px; /* Ajuste o padding para o tamanho desejado */
    font-size: 0.9rem;
    min-height: 53px; /* Para alinhar com o input grande (ajuste conforme necessário) */
    /* Você pode usar a classe .ep-btn-secundario ou criar uma nova */
    background-color: var(--ep-cor-cinza-texto-secundario, #7f8c8d);
    color: var(--ep-cor-branco);
}
#btnEmbalarTudoUnidade.ep-btn-secundario:hover {
    background-color: #6a7879;
}


.ep-acoes-rapidas-qtd {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 10px;
}

.ep-btn-outline-pequeno {
    background-color: transparent;
    border: 1px solid var(--ep-cor-azul-primario);
    color: var(--ep-cor-azul-primario);
    padding: 6px 12px;
    font-size: 0.85rem;
    font-weight: 500;
    border-radius: var(--ep-raio-borda-botao);
    transition: background-color 0.2s, color 0.2s;
}
.ep-btn-outline-pequeno:hover {
    background-color: var(--ep-cor-azul-primario);
    color: var(--ep-cor-branco);
}
/* Específico para o botão de remover (-) */
.ep-btn-outline-pequeno.ep-btn-perigo-outline {
    border-color: var(--ep-cor-vermelho-perigo);
    color: var(--ep-cor-vermelho-perigo);
}
.ep-btn-outline-pequeno.ep-btn-perigo-outline:hover {
    background-color: var(--ep-cor-vermelho-perigo);
    color: var(--ep-cor-branco);
}


.ep-feedback-saldo {
    font-size: 0.9rem;
    color: var(--ep-cor-cinza-texto-secundario);
    min-height: 1.2em; /* Para evitar que o layout pule quando o texto aparece */
    margin-top: 5px;
    text-align: center;
}

/* Estilo para o container dos botões de ação principais */
.ep-botoes-acao-principal {
    margin-top: 30px; /* Mais espaço antes do botão principal */
    justify-content: center; /* Centraliza o botão principal */
}

.ep-btn.ep-btn-grande { /* Para o botão "EMBALAR E ESTOCAR UNIDADES" */
    font-size: 1.1rem;
    padding: 12px 25px;
    font-weight: 600;
    /* A cor de fundo vem da classe .ep-btn-sucesso */
}

/* Estilos para textarea de observação (reutilizando .ep-textarea se já existir) */
.ep-form-grupo textarea.ep-textarea {
    min-height: 60px; /* Altura mínima */
    font-size: 0.95rem;
}

/*------------------------------------*\
    #ABA "MONTAR E EMBALAR KIT" - CONTEÚDO DE AÇÃO
\*------------------------------------*/

.ep-kit-passo {
    margin-bottom: 30px; /* Espaço entre os passos */
    padding-bottom: 20px; /* Espaço interno inferior */
    border-bottom: 1px dashed var(--ep-cor-cinza-borda, #e0e0e0); /* Divisor sutil entre os passos */
}
.ep-kit-passo:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

/* Passo 1: Seleção do Kit */
.ep-kit-selecao-botoes {
    display: flex;
    flex-wrap: wrap; /* Permite que os botões quebrem linha */
    gap: 10px;
    justify-content: center; /* Centraliza os botões */
    margin-top: 10px;
}
.ep-kit-selecao-botoes .ep-btn { /* Estilo para os botões de kit */
    background-color: var(--ep-cor-branco);
    color: var(--ep-cor-azul-subtitulo, #5a7c9b);
    border: 1px solid var(--ep-cor-cinza-borda);
    padding: 8px 18px;
    font-size: 0.95rem;
}
.ep-kit-selecao-botoes .ep-btn.active { /* Botão de kit selecionado */
    background-color: var(--ep-cor-azul-subtitulo, #5a7c9b);
    color: var(--ep-cor-branco);
    border-color: var(--ep-cor-azul-subtitulo, #5a7c9b);
    font-weight: 600;
}
.ep-kit-selecao-botoes .ep-btn:hover:not(.active) {
    border-color: var(--ep-cor-azul-subtitulo, #5a7c9b);
    color: var(--ep-cor-azul-subtitulo, #5a7c9b);
}
.ep-placeholder-kits {
    font-style: italic;
    color: var(--ep-cor-cinza-texto-secundario);
    width: 100%;
    text-align: center;
}


/* Passo 2: Seleção da Variação do Kit e Preview */
.ep-kit-variacao-selecao-container {
    display: flex;
    align-items: flex-end; /* Alinha o select e a imagem na base */
    gap: 20px;
    margin-top: 10px;
}
.ep-kit-variacao-selecao-container .ep-select.ep-input-medio { /* Para o select de variações */
    flex-grow: 1; /* Faz o select ocupar o espaço disponível */
    max-width: 400px; /* Limita a largura máxima do select */
    /* Você pode precisar criar a classe .ep-input-medio se não existir,
       ou apenas usar .ep-select e .ep-input */
    padding: 10px 14px; /* Consistência com outros inputs */
    font-size: 1rem;
}
.ep-kit-imagem-preview {
    width: 100px; /* Tamanho da imagem de preview do kit */
    height: 100px;
    border: 1px solid var(--ep-cor-cinza-borda);
    border-radius: var(--ep-raio-borda-card);
    overflow: hidden;
    background-color: var(--ep-cor-cinza-fundo-input);
    flex-shrink: 0; /* Não deixa a imagem encolher */
    display: flex;
    align-items: center;
    justify-content: center;
}
.ep-kit-imagem-preview img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain; /* 'contain' para ver a imagem inteira, 'cover' para preencher */
}


/* Passo 3: Composição do Kit */
.ep-composicao-titulo { /* Título "3. Composição e Disponibilidade..." */
    margin-bottom: 15px; /* Espaço antes da tabela */
    text-align: left; /* Alinha à esquerda, diferente de outros .ep-label-destacado */
    font-size: 1.1rem; /* Pode ser um pouco menor que os labels de passo */
}
.ep-tabela-wrapper.ep-tabela-composicao-kit {
    max-height: 250px; /* Altura máxima para a tabela, com scroll */
    overflow-y: auto;
    border: 1px solid var(--ep-cor-cinza-borda);
    border-radius: var(--ep-raio-borda-input);
}
/* Estilos para .ep-tabela-estilizada e .ep-mini-table você já deve ter.
   Apenas adicionamos uma coluna de Status. */
.ep-tabela-estilizada th:last-child, /* Para a coluna Status */
.ep-tabela-estilizada td:last-child {
    text-align: center;
}
.ep-status-componente {
    padding: 3px 8px;
    border-radius: 15px; /* Pílula */
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--ep-cor-branco);
    display: inline-block;
}
.ep-status-componente.ok {
    background-color: var(--ep-cor-verde-sucesso);
}
.ep-status-componente.atencao {
    background-color: var(--ep-cor-laranja-aviso);
}
.ep-status-componente.em-falta {
    background-color: var(--ep-cor-vermelho-perigo);
}

.ep-error-message { /* Já definido, mas garantindo que tenha margem */
    margin-top: 15px;
    padding: 10px;
    background-color: #ffebee;
    color: var(--ep-cor-vermelho-perigo);
    border: 1px solid var(--ep-cor-vermelho-perigo);
    border-radius: var(--ep-raio-borda-input);
    text-align: center;
}
.ep-error-message.hidden { display: none !important; }


/* Passo 4: Ação de Montagem */
.ep-kits-montaveis-info {
    padding: 12px 15px;
    background-color: var(--ep-cor-laranja-aviso); /* Cor de destaque para kits montáveis */
    color: var(--ep-cor-branco);
    border-radius: var(--ep-raio-borda-input);
    margin-bottom: 20px;
    text-align: center;
}
.ep-kits-montaveis-info span {
    font-size: 0.95rem;
    display: block;
    margin-bottom: 4px;
    opacity: 0.9;
}
.ep-kits-montaveis-info strong { /* #qtdDisponivelKitsNova */
    font-size: 1.8rem;
    font-weight: 700;
}

.ep-grupo-quantidade-kit .ep-label-destacado { /* Label para "Quantidade de Kits a Montar" */
    margin-top: 15px;
}
/* O input de quantidade e o botão Máx. reutilizarão os estilos de
   .ep-input-com-acoes, .ep-input-grande, #btnEmbalarTudoUnidade (adaptado para #btnMontarMaximoKits) */
#btnMontarMaximoKits.ep-btn-secundario { /* Similar ao #btnEmbalarTudoUnidade */
    padding: 10px 15px;
    font-size: 0.9rem;
    min-height: 53px;
    background-color: var(--ep-cor-cinza-texto-secundario, #7f8c8d);
    color: var(--ep-cor-branco);
}
#btnMontarMaximoKits.ep-btn-secundario:hover {
    background-color: #6a7879;
}

/* Ações rápidas para kits (.ep-acoes-rapidas-kit) podem usar os mesmos estilos de .ep-acoes-rapidas-qtd */
.ep-acoes-rapidas-kit {
    margin-top: 10px; /* Adiciona um pouco de espaço acima dos botões de +/- */
}



/*------------------------------------*\
    #PAGINAÇÃO
\*------------------------------------*/
.ep-paginacao-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-top: 30px;
    padding: 10px 0;
}
/* Botões de paginação (Anterior/Próximo) - o JS adiciona a classe 'pagination-btn' */
.ep-paginacao-container .pagination-btn.op-botao { /* Se o JS adiciona op-botao também */
    /* Herda de .ep-btn, mas podemos dar um estilo mais sutil se quisermos */
    background-color: var(--ep-cor-branco);
    color: var(--ep-cor-azul-primario);
    border: 1px solid var(--ep-cor-azul-primario); /* Adiciona borda */
    padding: 8px 16px;
}
.ep-paginacao-container .pagination-btn.op-botao:hover:not(:disabled) {
    background-color: var(--ep-cor-azul-primario);
    color: var(--ep-cor-branco);
}
.ep-paginacao-container .pagination-btn.op-botao:disabled {
    border-color: var(--ep-cor-cinza-borda);
    color: #aabbc3;
    background-color: var(--ep-cor-cinza-fundo-input);
}
.ep-paginacao-container .pagination-current {
    font-size: 0.95rem;
    color: var(--ep-cor-texto-principal);
    font-weight: 500;
}

/*------------------------------------*\
    #TELA DE DETALHE DA EMBALAGEM (#embalarDetalheView)
\*------------------------------------*/
#embalarDetalheView { 
    position: relative; /* Para o botão fechar */
    padding-top: 50px;
}
.ep-embalar-header { 
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--ep-cor-cinza-borda);
}
.ep-thumbnail-detalhe {
    width: 90px;
    height: 90px;
    border-radius: var(--ep-raio-borda-card);
    background-color: var(--ep-cor-cinza-fundo-input);
    overflow: hidden;
    flex-shrink: 0;
    border: 1px solid var(--ep-cor-cinza-borda);
    display: flex; align-items: center; justify-content: center;
}
.ep-thumbnail-detalhe img {
    width: 100%; height: 100%; object-fit: cover;
}
.ep-embalar-title-group {
    flex-grow: 1;
}

/* Estilo para o Botão Fechar (X) */
.botao-fechar { /* Classe genérica para o botão X */
    position: absolute;
    top: 15px;      /* Distância do topo do elemento pai (.ep-card ou #embalarDetalheView) */
    right: 15px;     /* Distância da direita */
    width: 36px;     /* Tamanho do botão (largura) */
    height: 36px;    /* Tamanho do botão (altura) - igual à largura para ser círculo */
    border-radius: 50%; /* Faz o botão ser redondo */
    border: none;
    font-size: 1.1rem;  /* Tamanho do texto 'X' */
    font-weight: bold;
    line-height: 36px; /* Centraliza o 'X' verticalmente (deve ser igual à altura) */
    text-align: center;  /* Centraliza o 'X' horizontalmente */
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2); /* Sombra sutil */
    transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.15s ease;
    z-index: 10;       /* Para garantir que fique acima de outros conteúdos do card */
}

/* Se você usar a classe ep-btn-perigo junto com botao-fechar: */
.botao-fechar.ep-btn-perigo { /* Combinação das classes */
    background-color: var(--ep-cor-vermelho-perigo);
    color: var(--ep-cor-branco);
}
.botao-fechar.ep-btn-perigo:hover {
    background-color: var(--ep-cor-vermelho-hover);
    transform: scale(1.1); /* Efeito de zoom no hover */
    box-shadow: 0 4px 8px rgba(0,0,0,0.25);
}
.botao-fechar.ep-btn-perigo:active {
    transform: scale(0.95); /* Efeito de clique */
}

.ep-embalar-header .botao-fechar.ep-btn-perigo,
.ep-arremate-detail-header .botao-fechar.ep-btn-perigo {
    margin-left: auto; /* Empurra para a direita se o header for flex row */
    /* Se o header for flex column, você pode precisar de align-self: flex-end; */
    /* Ajuste as margens se necessário para o espaçamento visual */
    margin-top: 0; 
    margin-right: 0; 
}

/* Abas */
.ep-tabs {
    display: flex;
    gap: 5px;
    margin-bottom: 25px;
    border-bottom: 2px solid var(--ep-cor-cinza-borda);
}
/* .ep-tab-btn já estilizado em ordens-de-producao.css, mas podemos adicionar especificidade */
#embalarDetalheView .ep-tabs .ep-tab-btn { 
    padding: 10px 18px;
    border: none;
    background-color: transparent;
    color: var(--ep-cor-cinza-texto-secundario);
    border-radius: var(--ep-raio-borda-botao) var(--ep-raio-borda-botao) 0 0;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    position: relative;
    bottom: -2px; 
    border-bottom: 2px solid transparent; 
    transition: color 0.2s ease, border-color 0.2s ease;
}
#embalarDetalheView .ep-tabs .ep-tab-btn.active {
    color: var(--ep-cor-azul-primario);
    border-bottom-color: var(--ep-cor-azul-primario);
    font-weight: 600;
}
#embalarDetalheView .ep-tabs .ep-tab-btn:hover:not(.active) {
    color: var(--ep-cor-azul-escuro);
}

.ep-tab-panel {
    display: none;
}


/* Card interno do formulário de embalagem */
.ep-embalar-form-card-interno { 
    background-color: var(--ep-cor-cinza-fundo-alternativo);
    padding: 20px;
    border-radius: var(--ep-raio-borda-card);
    border: 1px solid #eef2f7;
}
.ep-info-produto-embalar p {
    font-size: 1rem; margin-bottom: 6px; color: var(--ep-cor-texto-principal);
}
.ep-info-produto-embalar strong {
    color: var(--ep-cor-azul-escuro); min-width: 80px; display: inline-block;
}
.ep-qtd-disponivel-destaque {
    padding: 12px 15px;
    background-color: var(--ep-cor-azul-primario);
    color: var(--ep-cor-branco);
    border-radius: var(--ep-raio-borda-input);
    margin: 15px 0;
    text-align: center;
}
.ep-qtd-disponivel-destaque span {
    font-size: 0.95rem; display: block; margin-bottom: 4px; opacity: 0.9;
}
.ep-qtd-disponivel-destaque strong {
    font-size: 1.6rem; font-weight: 700;
}

/* Aba Kit (reutilizando .op-botao para botões de seleção de kit) */
#kitsListNova .op-botao { 
    background-color: var(--ep-cor-branco);
    color: var(--ep-cor-azul-subtitulo);
    border: 1px solid var(--ep-cor-cinza-borda);
    margin-right: 8px; margin-bottom: 8px;
    padding: 8px 15px; /* Ajuste para botões menores */
}
#kitsListNova .op-botao.active {
    background-color: var(--ep-cor-azul-subtitulo);
    color: var(--ep-cor-branco);
    border-color: var(--ep-cor-azul-subtitulo);
}
.ep-mini-table { 
    width: 100%; border-collapse: collapse; font-size: 0.9rem; margin-top: 10px;
}
.ep-mini-table th, .ep-mini-table td {
    padding: 8px 10px; text-align: left; border: 1px solid var(--ep-cor-cinza-borda);
}
.ep-mini-table th {
    background-color: var(--ep-cor-cinza-fundo-input); font-weight: 600;
}
.ep-mini-table tr.item-insuficiente td {
    color: var(--ep-cor-vermelho-perigo); background-color: #fdecea;
}
#kitErrorMessageNova.ep-error-message {
    color: var(--ep-cor-vermelho-perigo); background-color: #ffebee;
    border: 1px solid var(--ep-cor-vermelho-perigo); padding: 10px;
    border-radius: var(--ep-raio-borda-input); margin-top: 10px;
}
.ep-error-message.hidden { display: none; }

.ep-kit-componente-disponivel-input {
    font-size: 1.2rem; /* <<< SEU TAMANHO DE FONTE DESEJADO AQUI */
    background-color: transparent !important; /* !important pode ser necessário para sobrescrever inline */
    border: none !important;
    box-shadow: none !important;
    color: var(--ep-cor-texto-principal); /* Garante uma cor de texto legível */
    width: 60px; /* Ajuste a largura se necessário */
    text-align: center; /* Garante o alinhamento */
    padding: 0; /* Remove padding se não quiser */
}
.ep-kit-componente-disponivel-input::-webkit-outer-spin-button,
.ep-kit-componente-disponivel-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0; /* Remove setas em Chrome/Safari/Edge */
}

.ep-button-group{
    display:flex; 
    flex-wrap:wrap; 
    gap:10px; 
    margin-top:5px;
    justify-content: center;
}

/*------------------------------------*\
    #UTILITÁRIOS (Spinner, Popups)
\*------------------------------------*/
.spinner { 
    display: flex; 
    justify-content: center; 
    align-items: center;
    padding: 25px; 
    font-size: 1rem; 
    color: #555; 
    min-height: 60px;
}
.spinner::before {
    content: ''; 
    display: inline-block; 
    width: 22px; 
    height: 22px;
    margin-right: 12px; 
    border: 3px solid #ccc;
    border-top-color: 
    var(--ep-cor-azul-primario);
    border-radius: 50%; 
    animation: ep-spin 1s linear infinite;
    vertical-align: middle;
}
@keyframes ep-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

.spinner-btn-interno { 
    width: 1em; height: 1em; border-width: 2px; margin-right: 8px;
    border-style: solid; border-color: rgba(255,255,255,0.3);
    border-top-color: var(--ep-cor-branco); 
    border-radius: 50%; animation: ep-spin 0.8s linear infinite;
    display: inline-block;
}

/*------------------------------------*\
    # Popups de Mensagem / Confirmação
\*------------------------------------*/

/* Estilo para o fundo escurecido */
.popup-overlay {
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%;
    background-color: rgba(44, 62, 80, 0.7); /* Fundo azul-escuro semi-transparente */
    z-index: 10001; /* Fica abaixo do popup, mas acima do resto da página */
    animation: ep-fadeInOverlayPopup 0.3s ease-out;
}

/* Estilo principal para a caixa de diálogo do popup */
.popup-mensagem {
    position: fixed; 
    top: 50%; 
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 25px 30px; 
    border-radius: var(--ep-raio-borda-container);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    z-index: 10002; /* Acima do overlay */
    max-width: 480px; 
    width: 90%;
    text-align: center; 
    font-family: var(--ep-font-principal);
    animation: ep-fadeInPopup 0.3s ease-out;
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center;
    
    /* --- CORREÇÃO PRINCIPAL --- */
    background-color: var(--ep-cor-branco, #ffffff) !important; /* Fundo branco sólido */
    color: var(--ep-cor-texto-principal, #333) !important; /* Cor de texto padrão escura */
    border-left: 5px solid; /* A borda colorida continua */
}

.popup-mensagem p { 
    font-size: 1.05rem; 
    line-height: 1.5; 
    margin-bottom: 20px; 
    font-weight: 500; 
}

/* Cores específicas para os tipos de popup (sobrescrevem a cor do texto e da borda) */
.popup-mensagem.popup-sucesso { 
    background-color: #f0f9f4 !important; /* Fundo verde bem claro */
    color: var(--ep-cor-verde-sucesso) !important; 
    border-left-color: var(--ep-cor-verde-sucesso); 
}
.popup-mensagem.popup-erro,
.popup-mensagem.popup-perigo { /* Adicionado .popup-perigo */
    background-color: #fef2f2 !important; /* Fundo vermelho bem claro */
    color: var(--ep-cor-vermelho-perigo) !important; 
    border-left-color: var(--ep-cor-vermelho-perigo); 
}
.popup-mensagem.popup-aviso { 
    background-color: #fffaf0 !important; /* Fundo laranja bem claro */
    color: var(--ep-cor-laranja-aviso) !important; 
    border-left-color: var(--ep-cor-laranja-aviso); 
}

/* Botões dentro do Popup */
.popup-mensagem button { 
    padding: 10px 28px; 
    margin-top: 10px; 
    background-color: var(--ep-cor-azul-escuro); 
    color: var(--ep-cor-branco); 
    border: none; 
    border-radius: var(--ep-raio-borda-botao);
    cursor: pointer; 
    font-size: 0.95rem; 
    font-weight: 600; 
    transition: background-color 0.2s ease;
}
.popup-mensagem button:hover { 
    background-color: #4a617a; 
}

/* Estilos específicos para os botões de confirmação Sim/Não */
.popup-mensagem .ep-btn-confirmar, .popup-mensagem .es-btn-confirmar { /* Pega ambas as classes */
    background-color: var(--ep-cor-vermelho-perigo) !important;
}
.popup-mensagem .ep-btn-confirmar:hover, .popup-mensagem .es-btn-confirmar:hover {
    background-color: var(--ep-cor-vermelho-hover) !important;
}

.popup-mensagem .ep-btn-cancelar, .popup-mensagem .es-btn-cancelar {
    background-color: var(--ep-cor-cinza-texto-secundario) !important;
}
.popup-mensagem .ep-btn-cancelar:hover, .popup-mensagem .es-btn-cancelar:hover {
    background-color: #6a7879 !important;
}


/* Animações (se ainda não as tiver) */
@keyframes ep-fadeInPopup { from { opacity: 0; transform: translate(-50%, -55%); } to { opacity: 1; transform: translate(-50%, -50%); } }
@keyframes ep-fadeInOverlayPopup { from { opacity: 0; } to { opacity: 1; } }

.hidden { display: none !important; }

/* NOVO PAINEL DE INFORMAÇÕES RÁPIDAS */
.ep-painel-info-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* 3 colunas em telas maiores */
    gap: 20px;
    margin-bottom: 30px;
}

.ep-info-card {
    background-color: var(--ep-cor-branco);
    border-radius: var(--ep-raio-borda-card);
    padding: 20px;
    box-shadow: var(--ep-sombra-padrao);
    text-align: center;
    position: relative;
    border-left: 5px solid; /* Borda lateral para cor */
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.ep-info-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--ep-sombra-hover);
}

.ep-info-card-icone {
    font-size: 1.8rem;
    margin-bottom: 10px;
    display: inline-block;
}

.ep-info-card h3 {
    font-size: 1.1rem;
    color: var(--ep-cor-azul-escuro);
    margin-bottom: 8px;
    font-weight: 600;
}

.ep-info-card-contador {
    font-size: 2.5rem;
    font-weight: 700;
    display: block;
    line-height: 1.1;
    margin-bottom: 5px;
}

.ep-info-card-descricao {
    font-size: 0.85rem;
    color: var(--ep-cor-cinza-texto-secundario);
}

/* Cores específicas dos cards de informação */
.ep-info-card.principal {
    border-left-color: var(--ep-cor-azul-primario);
}
.ep-info-card.principal .ep-info-card-icone,
.ep-info-card.principal .ep-info-card-contador {
    color: var(--ep-cor-azul-primario);
}

.ep-info-card.alerta {
    border-left-color: var(--ep-cor-laranja-aviso);
}
.ep-info-card.alerta .ep-info-card-icone,
.ep-info-card.alerta .ep-info-card-contador {
    color: var(--ep-cor-laranja-aviso);
}

.ep-info-card.sucesso {
    border-left-color: var(--ep-cor-verde-sucesso);
}
.ep-info-card.sucesso .ep-info-card-icone,
.ep-info-card.sucesso .ep-info-card-contador {
    color: var(--ep-cor-verde-sucesso);
}


/* Ajustes para o novo container de filtros */
.ep-card-filtros {
    padding: 20px;
}
.ep-card-filtros .ep-input-busca {
    margin: 0; /* Remove a margem auto para alinhar à esquerda */
    max-width: 450px;
}


/* Botão de Estorno na Tabela de Histórico (AGORA COMO ÍCONE) */
.ep-btn-icon-estorno {
    background: transparent;
    border: none;
    color: var(--ep-cor-azul-primario); /* Usando azul para "desfazer" uma ação */
    cursor: pointer;
    font-size: 1.1rem; /* Tamanho do ícone */
    padding: 5px 8px; /* Pequeno padding para área de clique */
    transition: color 0.2s, transform 0.2s;
    border-radius: 50%; /* Opcional: para um fundo circular no hover */
}
.ep-btn-icon-estorno:hover:not(:disabled) {
    color: var(--ep-cor-azul-hover);
    transform: scale(1.2);
    background-color: #eaf2f8; /* Fundo sutil no hover */
}
.ep-btn-icon-estorno:disabled {
    color: var(--ep-cor-cinza-borda);
    cursor: not-allowed;
    transform: none;
    background-color: transparent;
}

/* Tag/Badge para indicar que foi estornado */
.ep-tag-estornado {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--ep-cor-cinza-texto-secundario);
    background-color: #f1f3f5;
    padding: 2px 6px;
    border-radius: 4px;
    display: inline-block;
}

/*------------------------------------*\
    #TABELAS ESTILIZADAS (Histórico, Composição de Kit)
\*------------------------------------*/

/* Wrapper para tabelas, permite scroll horizontal se necessário */
.ep-tabela-wrapper {
    overflow-x: auto;
    width: 100%;
    margin-top: 15px; /* Espaço acima da tabela */
}

/* Estilo principal da tabela */
.ep-tabela-estilizada {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
    min-width: 600px; /* Garante que a tabela tenha uma largura mínima, forçando o scroll em vez de espremer o conteúdo */
}

.ep-tabela-estilizada th,
.ep-tabela-estilizada td {
    padding: 12px 15px; /* Aumenta o padding para mais respiro */
    border-bottom: 1px solid var(--ep-cor-cinza-borda);
    text-align: left;
    vertical-align: middle;
}

.ep-tabela-estilizada th {
    background-color: var(--ep-cor-cinza-fundo-input);
    font-weight: 600;
    color: var(--ep-cor-azul-escuro);
    text-transform: uppercase;
    font-size: 0.8rem;
    white-space: nowrap; /* Impede que os títulos do cabeçalho quebrem linha */
}

.ep-tabela-estilizada tbody tr:hover {
    background-color: #f5f8fa; /* Efeito de hover sutil nas linhas */
}

/* Opcional: Se quiser dar um visual um pouco diferente para a mini-tabela de composição de kit */
.ep-tabela-estilizada.ep-mini-table td {
    padding: 8px 10px; /* Padding um pouco menor para a mini-tabela */
    font-size: 0.85rem;
}

/*------------------------------------*\
    # Filtros Avançados e Ordenação
\*------------------------------------*/

/* Linha que contém a busca e o botão de filtros */
.ep-filtros-linha {
    display: flex;
    gap: 15px;
    align-items: center;
    flex-wrap: wrap; /* Para quebrar linha em telas menores */
}

.ep-card-filtros .ep-form-grupo {
    margin-bottom: 0; /* Remove margem padrão de form-grupo aqui */
}

/* Botão para mostrar/esconder filtros */
.ep-btn-filtros {
    background-color: #314b63;
    border: 1px solid var(--ep-cor-cinza-borda);
    color: var(--ep-cor-fundo-pagina);
    padding: 10px 15px;
    border-radius: var(--ep-raio-borda-botao);
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
    transition: all 0.2s ease;
    white-space: nowrap;
}
.ep-btn-filtros:hover {
    background-color: #263441;
    border-color: #dbdcdd;
}

/* Container dos filtros avançados */
.ep-filtros-avancados-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Grade responsiva */
    gap: 15px;
    align-items: flex-end; /* Alinha os itens (especialmente o botão) na base */
    padding: 20px;
    margin-top: 15px;
    background-color: var(--ep-cor-cinza-fundo-alternativo);
    border-radius: var(--ep-raio-borda-card);
    border: 1px solid #eef2f7;
    /* Animação suave para aparecer */
    max-height: 0;
    overflow: hidden;
    padding-top: 0;
    padding-bottom: 0;
    transition: max-height 0.4s ease-out, padding 0.4s ease-out;
}
.ep-filtros-avancados-container:not(.hidden) {
    max-height: 300px; /* Altura suficiente para mostrar os filtros */
    padding-top: 20px;
    padding-bottom: 20px;
}

/* Botão de limpar filtros */
.ep-btn-limpar-filtros {
    background-color: var(--ep-cor-vermelho-perigo);
    color: var(--ep-cor-branco);
    padding: 10px 15px;
    border: none;
    border-radius: var(--ep-raio-borda-botao);
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
    width: 80%; /* Ocupa a célula da grade */
    justify-content: center;
}
.ep-btn-limpar-filtros:hover {
    background-color: var(--ep-cor-vermelho-hover);
}


/*------------------------------------*\
    #RESPONSIVIDADE
\*------------------------------------*/
@media (max-width: 1024px) { /* Tablets */
    .container-ep {
    padding: 50px;
    }

    .ep-section-description{
    font-size: 1.2rem;
    text-align: center; 
    font-style: italic; 
    color: var(--ep-cor-cinza-texto);
    }

    .op-embalagem-card-variante {
    font-size: 1.2rem;
    }

    .op-embalagem-card-disponivel {
    font-size: 1.2rem;
    }

    .ep-paginacao-container .pagination-current {
    font-size: 1.2rem;
    }
    .ep-input-busca {
    padding: 10px 14px;
    font-size: 1rem;
    }
    
    .ep-container-principal {
        padding: 15px;
    }
    .ep-cabecalho-pagina h1 { font-size: 1.8rem; }
    .ep-titulo-secao { font-size: 1.4rem; }
    .ep-card { padding: 20px; }
    .ep-embalagem-card-container {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }

    .ep-titulo-variacao-prod {
    font-size: 1.3rem;
    }

    #embalarDetalheView .ep-tabs .ep-tab-btn {
        font-size: 1.3rem;
    }

    .ep-qtd-disponivel-destaque {
    justify-self: center;
    }

    .ep-form-estilizado .ep-form-grupo {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    }

    .ep-form-estilizado label{
    font-size: 1.3rem;
    text-align: center;

    }
    .ep-input-embalar-produto{
    width: 90px;
    padding: 20px 15px;
    }

    .ep-qtd-disponivel-destaque span {
    font-size: 1.3rem;
    }

    .ep-tab-panel.active {
    display: block;
    }

    .ep-btn {
    padding: 20px 20px;
    font-size: 0.95rem;
    }

    .ep-input, .ep-select {
    width: 100%;
    font-size: 1.2rem;
    }

    .ep-mini-table {
    justify-self: center;
    width: 80%;
    font-size: 1.2rem;
}
    #kitErrorMessageNova.ep-error-message {
    width: 70%;
    justify-self: center;
    font-size: 1.2rem;
    }

    .ep-input-qte-embalar-produto{
        width: 50%;
        font-size: 1.2rem;
        padding: 20px;
        border: 1px solid var(--ep-cor-cinza-borda);
        border-radius: var(--ep-raio-borda-input);
    }

}

@media (max-width: 768px) { /* Mobile grande */
    .ep-cabecalho-pagina h1 { font-size: 1.6rem; text-align: center; }
    .ep-titulo-secao { font-size: 1.3rem; text-align: center; }
    .ep-descricao-secao { font-size: 0.9rem; }
    .ep-card { padding: 15px; }

    .ep-input-busca { max-width: 100%; font-size: 0.95rem; }
    .ep-embalagem-card-container {
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    }
    .op-embalagem-card-produto { font-size: 1.05rem; }
    .op-embalagem-card-variante { font-size: 0.85rem; }
    .op-embalagem-card-disponivel strong { font-size: 1.1rem; }

    .ep-embalar-header { flex-direction: column; align-items: center; text-align: center; }
    /* Ajuste no botão fechar para não sobrepor título em telas menores */
    #embalarDetalheView .botao-fechar { 
        align-self: flex-end; /* Alinha à direita do header que agora é column */
        margin-top: -35px; /* Sobe um pouco para o canto visual */
        margin-bottom: 10px;
    }
    .ep-tabs { justify-content: center; flex-wrap: wrap; }
    .ep-tab-btn { padding: 8px 12px; font-size: 0.9rem; }
    .ep-form-botoes { flex-direction: column; align-items: stretch; }
    .ep-form-botoes .ep-btn { width: 100%; }

     #embalarDetalheView {
        padding-top: 60px; /* Aumenta o padding se o botão sobrepuser o título */
    }

    .botao-fechar {
        top: 10px;
        right: 10px;
        width: 32px;
        height: 32px;
        line-height: 32px;
        font-size: 1rem;
    }
    /* cards */
    .ep-embalagem-card-container {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
     .ep-consulta-card-dados {
        flex-direction: row; /* Lado a lado em telas menores se couber */
        justify-content: space-around; /* Espaça os blocos */
        align-items: center;
        padding: 10px;
        gap: 15px;
    }
    .ep-dado-bloco .valor {
        font-size: 1.3rem;
    }

    /* header da view de detalhe */

    .ep-movimento-header {
        grid-template-columns: 1fr; /* Coluna única */
        text-align: center; /* Centraliza tudo no mobile */
        gap: 15px; /* Reduz o gap */
    }

    .ep-movimento-thumbnail {
        margin: 0 auto 10px auto; /* Centraliza a imagem */
        width: 100px; /* Pode aumentar um pouco no modo coluna única */
        height: 100px;
    }

    .ep-movimento-info h2 {
        font-size: 1.5rem;
    }
    .ep-movimento-info p {
        font-size: 0.9rem;
    }

    .ep-movimento-saldo {
        margin: 0 auto; /* Centraliza o bloco de saldo */
        padding: 10px 15px;
    }
    .ep-movimento-saldo span {
        font-size: 1.8rem;
    }

    /* Ajuste no botão fechar para não sobrepor título em telas menores */
    #embalarDetalheView .botao-fechar {
        top: 15px;
        right: 15px;
    }

    /* --- Aba de Kit (simplificado) --- */
    .ep-kit-variacao-selecao-container {
        flex-direction: column; /* Empilha select e imagem */
        align-items: center; /* Centraliza */
    }
    .ep-kit-variacao-selecao-container .ep-select.ep-input-medio {
        max-width: 100%; /* Ocupa largura total */
        margin-bottom: 15px;
    }

    /* Esconde o cabeçalho da tabela no mobile */
    #historicoEmbalagemContainer .ep-tabela-estilizada thead {
        display: none; 
    }

    /* Remove a largura mínima para que a tabela não force o scroll */
    #historicoEmbalagemContainer .ep-tabela-estilizada {
        min-width: 100%;
    }

    #historicoEmbalagemContainer .ep-tabela-estilizada,
    #historicoEmbalagemContainer .ep-tabela-estilizada tbody,
    #historicoEmbalagemContainer .ep-tabela-estilizada tr,
    #historicoEmbalagemContainer .ep-tabela-estilizada td {
        display: block; /* Transforma tudo em blocos */
        width: 100% !important; /* Força largura total */
        text-align: right; /* Alinha o valor da célula à direita */
    }

    #historicoEmbalagemContainer .ep-tabela-estilizada tr {
        border: 1px solid var(--ep-cor-cinza-borda);
        border-radius: var(--ep-raio-borda-card);
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: var(--ep-sombra-padrao);
    }

    #historicoEmbalagemContainer .ep-tabela-estilizada td {
        padding: 8px 0; /* Padding vertical, sem padding lateral */
        border-bottom: 1px dotted #e9ecef; /* Linha pontilhada entre "campos" */
        display: flex; /* Alinha o label e o valor */
        justify-content: space-between;
        align-items: center;
    }

    #historicoEmbalagemContainer .ep-tabela-estilizada td:last-child {
        border-bottom: none; /* Remove a linha do último "campo" */
    }

    #historicoEmbalagemContainer .ep-tabela-estilizada td::before {
        content: attr(data-label); /* Pega o texto do data-label do HTML */
        font-weight: 600;
        color: var(--ep-cor-cinza-texto-secundario);
        text-align: left;
        margin-right: 10px;
    }

    /* Garante que o conteúdo da célula de ações fique alinhado corretamente */
    #historicoEmbalagemContainer .ep-tabela-estilizada td[data-label="Ações"] {
        justify-content: flex-end; /* Alinha o botão de estorno à direita */
    }
}

@media (max-width: 480px) { /* Smartphones médios e menores */
    .ep-container-principal {
        padding: 12px; /* Um pouco menos de padding */
    }

    .ep-section-description {
        font-size: 1rem;
    }

    .ep-form-estilizado .ep-form-grupo {
        display: block;
        justify-items: center;
    }

    .ep-paginacao-container .pagination-current {
        font-size: 1rem;
    }
    
    .ep-mini-table {
        width: 90%;
    }

    #kitErrorMessageNova.ep-error-message {
        width: 80%;
        justify-self: center;
        font-size: 0.9rem;
    }

    .ep-input-qte-embalar-produto {
        width: 70%;
        text-align: center;
        font-size: 1rem;
    }

    .ep-input-embalar-produto {
        width: 70px;
        padding: 15px 15px;
    }

    .container-ep {
        padding: 20px;
    }

    .ep-cabecalho-pagina h1 {
        font-size: 1.5rem; /* Título da página menor */
    }
    .ep-titulo-secao {
        font-size: 1.2rem; /* Títulos de seção menores */
    }
    .ep-card {
        padding: 15px; /* Padding dos cards principais */
    }
    .ep-input, .ep-select, .ep-textarea {
        font-size: 0.9rem; /* Inputs um pouco menores */
        padding: 9px 12px;
        width: 70%;
    }
    .ep-btn {
        font-size: 0.9rem; /* Botões um pouco menores */
        padding: 9px 16px;
    }
    .ep-input-busca {
        font-size: 0.9rem;
    }

    /* Cards de embalagem (lista) */
    .ep-embalagem-card-container {
        grid-template-columns: 1fr !important;  /* Uma coluna em telas bem pequenas */
    }

    /* Ajusta o layout interno do card para mobile, similar ao estoque */
    .ep-consulta-card {
        grid-template-columns: auto 1fr;
        grid-template-rows: auto auto;
        gap: 0 15px;
        padding: 10px;
        margin-top: 15px;
    }

    .ep-consulta-card-img {
        grid-row: 1 / 3; /* Imagem ocupa as duas linhas na vertical */
        width: 65px;
        height: 65px;
        margin: 0;
    }

    .ep-consulta-card-info {
        grid-column: 2 / 3; /* Info na segunda coluna, primeira linha */
        grid-row: 1 / 2;
        padding: 0; /* Remove padding extra pois o card já tem */
    }
    .ep-consulta-card-info h3 { font-size: 1rem; }
    .ep-consulta-card-info p { font-size: 0.8rem; }
    .ep-consulta-card-info .ep-sku-info { font-size: 0.75rem; margin-top: 3px; }

    .ep-consulta-card-info h3,
     .ep-consulta-card-info p,
     .ep-consulta-card-info .ep-sku-info {
        white-space: normal; /* Permite quebra de linha no mobile */
        overflow: visible;
        text-overflow: clip;
    }

    .ep-consulta-card-dados {
        grid-column: 2 / 3;
        grid-row: 2 / 3;
        flex-direction: row;
        justify-content: flex-start;
        gap: 20px; /* Ajuste o gap para mobile */
        padding: 10px 0 0 0;
        background-color: transparent;
        border-left: none;
        border-top: 1px solid #f0f2f5;
        margin-top: 10px;
        height: auto;
        text-align: left;
    }
    .ep-dado-bloco .valor {
        font-size: 1.2rem;
    }
     .ep-dado-bloco .label {
        font-size: 0.7rem;
    }

    .botao-fechar { /* Botão X continua pequeno */
        top: 12px; /* Ajuste fino da posição se necessário */
        right: 12px;
        width: 30px;
        height: 30px;
        line-height: 30px;
        font-size: 0.9rem;
    }

    .ep-qtd-disponivel-destaque span {
        font-size: 0.85rem;
    }
    .ep-qtd-disponivel-destaque strong {
        font-size: 1.3rem; /* Quantidade em destaque */
    }
    .ep-tab-btn {
        padding: 8px 10px; /* Abas menores */
        font-size: 0.8rem;
    }
    .ep-form-estilizado label {
        font-size: 0.85rem; /* Labels menores nos formulários internos */
    }

    /* Tabela de composição do kit (mini-table) */
    .ep-mini-table th, .ep-mini-table td {
        padding: 6px 8px;
        font-size: 0.8rem;
    }
    #kitTableBodyNova .op-input.readonly, /* Seletor para o input da qtd disponível no kit */
    .ep-kit-componente-disponivel-input { /* Se estiver usando a classe específica */
        font-size: 0.8rem !important; /* Força o tamanho aqui */
        width: 50px !important; /* Largura menor */
    }

    #embalarDetalheView .ep-tabs .ep-tab-btn {
        font-size: 0.9rem
   }

   /* header da view de detalhe */
   .ep-movimento-info h2 {
        font-size: 1.3rem;
    }
    .ep-movimento-saldo span {
        font-size: 1.6rem;
    }
    .ep-movimento-thumbnail {
        width: 90px;
        height: 90px;
    }
    /* Botão fechar já tem estilos responsivos, mas pode precisar de ajuste fino */
    #embalarDetalheView .botao-fechar {
        top: 12px;
        right: 12px;
        width: 30px;
        height: 30px;
        line-height: 30px; /* Importante para centralizar o X */
        font-size: 0.9rem;
    }

    /* Popup de mensagem */
    .popup-mensagem {
        width: 95%;
        padding: 15px 20px;
    }
    .popup-mensagem p {
        font-size: 0.9rem;
        margin-bottom: 15px;
    }
    .popup-mensagem button {
        padding: 8px 20px;
        font-size: 0.9rem;
    }
    /* #ABA "EMBALAR UNIDADE" - CONTEÚDO DE AÇÃO */
    .ep-acao-embalagem-container {
        padding: 15px 10px;
    }
    .ep-label-destacado {
        font-size: 1rem;
    }
    .ep-input-com-acoes {
        flex-direction: column; /* Empilha o input e o botão "Tudo" */
        gap: 8px;
        align-items: stretch; /* Faz o botão "Tudo" ocupar a largura */
    }
    .ep-input.ep-input-grande {
        font-size: 1.3rem;
    }
    #btnEmbalarTudoUnidade.ep-btn-secundario {
        width: 100%; /* Botão "Tudo" ocupa largura total */
        min-height: auto; /* Reseta min-height */
    }

    .ep-acoes-rapidas-qtd {
        flex-wrap: wrap; /* Permite que os botões quebrem linha */
        gap: 6px;
    }
    .ep-btn-outline-pequeno {
        padding: 5px 10px;
        font-size: 0.8rem;
    }
    .ep-btn.ep-btn-grande {
        font-size: 1rem;
        padding: 10px 20px;
    }

    /* --- Aba de Kit (simplificado) --- */
    .ep-kit-passo {
        padding-bottom: 15px;
        margin-bottom: 20px;
    }
    .ep-label-destacado, .ep-composicao-titulo {
        font-size: 1rem;
    }
    .ep-kit-imagem-preview {
        width: 80px;
        height: 80px;
    }
    .ep-tabela-wrapper.ep-tabela-composicao-kit {
        max-height: 200px; /* Reduz altura da tabela */
    }
    .ep-tabela-estilizada th, .ep-tabela-estilizada td {
        font-size: 0.8rem; /* Fonte menor na tabela */
        padding: 6px 8px;
    }
    .ep-status-componente {
        font-size: 0.7rem;
        padding: 2px 6px;
    }
    .ep-kits-montaveis-info strong {
        font-size: 1.6rem;
    }

     /* INÍCIO DO AJUSTE PARA OS CARDS DO PAINEL DE INFORMAÇÕES */
    .ep-painel-info-container {
        /* No mobile, talvez uma coluna fique melhor que a grade auto-fill */
        grid-template-columns: 1fr; 
        gap: 12px; /* Reduz o espaçamento entre os cards */
        margin-bottom: 20px; /* Reduz o espaçamento abaixo do painel */
    }

    .ep-info-card {
        padding: 12px 15px; /* Reduz o padding interno para diminuir a altura */
        display: grid; /* Usa grid para alinhar ícone e conteúdo */
        grid-template-columns: auto 1fr; /* Coluna do ícone e coluna do resto */
        grid-template-rows: auto auto; /* Duas linhas */
        gap: 0 15px; /* Espaço entre as colunas, sem espaço entre as linhas */
        text-align: left; /* Alinha o texto à esquerda no mobile */
        border-left-width: 4px; /* Borda lateral um pouco mais fina */
    }

    .ep-info-card-icone {
        grid-row: 1 / 3; /* Ícone ocupa as duas linhas */
        font-size: 1.5rem; /* Ícone um pouco menor */
        margin: 0; /* Remove a margem do ícone */
        align-self: center; /* Centraliza o ícone verticalmente */
    }

    .ep-info-card h3 {
        grid-column: 2 / 3;
        grid-row: 1 / 2;
        font-size: 0.9rem; /* Título menor */
        margin-bottom: 0; /* Remove margem */
        align-self: flex-end; /* Alinha na base da sua célula */
    }

    .ep-info-card-contador {
        /* Move o contador para baixo da descrição para um layout diferente */
        /* Ou mantém aqui, mas com fonte menor */
        font-size: 1.8rem; /* Contador menor */
        margin-bottom: 0;
        text-align: left; /* Alinha à esquerda com o título */
        line-height: 1;
        
        /* Opcional: Se quiser colocar o contador ao lado do título */
        /* display: inline; */
        /* margin-left: 10px; */
    }
    
    .ep-info-card-descricao {
        /* Esconde a descrição no mobile para economizar muito espaço, se desejar */
        /* display: none; */ 
        
        /* Ou apenas diminui a fonte */
        grid-column: 2 / 3;
        grid-row: 2 / 2;
        font-size: 0.75rem; /* Descrição menor */
        align-self: flex-start; /* Alinha no topo da sua célula */
    }
    /* FIM DO AJUSTE PARA OS CARDS DO PAINEL DE INFORMAÇÕES */
    

}
/* ****** FIM BREAKPOINT 480px ****** */

@media (max-width: 414px) { /* iPhone XR e similares */
    .ep-container-principal {
        padding: 10px;
    }
    .ep-cabecalho-pagina h1 {
        font-size: 1.4rem; /* Reduzir mais */
    }
    .ep-titulo-secao {
        font-size: 1.25rem; /* Reduzir mais */
    }
    .ep-card {
        padding: 12px;
    }
    .ep-input, .ep-select, .ep-textarea {
        font-size: 0.85rem; /* Fontes menores para inputs */
        padding: 8px 10px;
    }
    .ep-mini-table{
        justify-self: center;
        width: 90%;
     }

    .ep-input-qte-embalar-produto {
        width: 70%;
        font-size: 0.9rem;
        padding: 15px;
    }

    .ep-btn {
        font-size: 0.9rem; /* Botões um pouco menores */
        padding: 8px 14px;
    }
    .ep-input-busca {
        font-size: 0.9rem;
    }

    /* Cards de embalagem */
    .ep-embalagem-card-container {
        grid-template-columns: 1fr; /* Uma coluna para melhor visualização */
        gap: 12px;
    }
    .op-embalagem-card {
        padding: 15px;
    }
    .op-embalagem-card-thumbnail {
        width: 70px; /* Levemente menor */
        height: 70px;
        margin-bottom: 10px;
    }
    .op-embalagem-card-produto {
        font-size: 1rem;
    }
    .op-embalagem-card-variante {
        font-size: 0.8rem;
    }
    .op-embalagem-card-disponivel {
        font-size: 0.9rem;
    }
    .op-embalagem-card-disponivel strong {
        font-size: 1.1rem;
    }

    /* Detalhe da Embalagem */
    .ep-thumbnail-detalhe {
        
        width: 80px; /* Ajustar tamanho da imagem de detalhe */
        height: 80px;
    }

     .botao-fechar {
        width: 30px;
        height: 30px;
        line-height: 30px;
        font-size: 0.9rem;
    }

    .ep-embalar-title-group .op-titulo-secao { /* Se estiver usando op-titulo-secao aqui */
        font-size: 1.2rem;
    }
    #embalagemDetalheTitulo { /* Se for um ID específico */
        font-size: 1.3rem;
    }
    #embalagemDetalheSubTitle {
        font-size: 0.9rem;
    }

    .ep-qtd-disponivel-destaque span {
        font-size: 0.9rem;
    }
    .ep-qtd-disponivel-destaque strong {
        font-size: 1.4rem; /* Ajustar tamanho da fonte da quantidade */
    }
    .ep-tab-btn {
        padding: 8px 10px; /* Abas menores */
        font-size: 0.85rem;
    }

    /* Popup de mensagem */
    .popup-mensagem {
        width: 95%;
        padding: 15px 20px;
    }
    .popup-mensagem p {
        font-size: 0.9rem;
        margin-bottom: 15px;
    }
    .popup-mensagem button {
        padding: 8px 20px;
        font-size: 0.9rem;
    }
}
/* ****** FIM BREAKPOINT 414px ****** */