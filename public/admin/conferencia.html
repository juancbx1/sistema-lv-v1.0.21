<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conferência e Auditoria</title>
    <!-- Mantenha seu CSS global/menu se tiver -->
    <link rel="stylesheet" href="/css/menu-lateral.css"> 
    <!-- Novo CSS específico para esta página -->
    <link rel="stylesheet" href="/css/conferencia.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="admin-body">

    <div class="hamburger-menu">
        <i class="fas fa-bars"></i>
        <i class="fas fa-times"></i> 
    </div>

    <main class="container-ca">
        <!-- Cabeçalho da Página -->
        <div class="ca-cabecalho-pagina">
            <h1>Conferência e Auditoria</h1>
        </div>

        <!-- Card Principal que engloba tudo -->
        <section class="ca-card">
            <!-- Abas de Navegação -->
            <div class="ca-tabs-container">
                <button class="ca-tab-btn active" data-tab="divergencias">
                    <i class="fas fa-exclamation-triangle"></i> Divergências
                    <span id="badge-divergencias-pendentes" class="ca-tab-badge" style="display: none;">0</span>
                </button>
                <button class="ca-tab-btn" data-tab="logs">
                    <i class="fas fa-history"></i> Log de Assinaturas
                </button>
            </div>

            <!-- Conteúdo da Aba de Divergências -->
            <div id="tab-content-divergencias" class="ca-tab-panel active">
                <div class="ca-filtros-container">
                    <div class="ca-form-grupo">
                        <label for="filtro-divergencia-status">Filtrar por Status:</label>
                        <select id="filtro-divergencia-status" class="ca-select">
                            <option value="Pendente" selected>Pendentes</option>
                            <option value="Em Análise">Em Análise</option>
                            <option value="Resolvida">Resolvidas</option>
                            <option value="Recusada">Recusadas</option>
                        </select>
                    </div>
                </div>
                <div id="divergencias-list" class="ca-content-list">
                    <div class="spinner">Carregando solicitações...</div>
                </div>
            </div>

            <!-- Conteúdo da Aba de Logs de Assinatura -->
            <div id="tab-content-logs" class="ca-tab-panel">
                 <div class="ca-filtros-container ca-filtros-log">
                    <div class="ca-form-grupo">
                        <label for="filtro-log-data-inicio">De:</label>
                        <input type="date" id="filtro-log-data-inicio" class="ca-input">
                    </div>
                    <div class="ca-form-grupo">
                        <label for="filtro-log-data-fim">Até:</label>
                        <input type="date" id="filtro-log-data-fim" class="ca-input">
                    </div>
                    <div class="ca-form-grupo" style="flex-grow: 1;">
                        <label for="filtro-log-usuario">Funcionário:</label>
                        <select id="filtro-log-usuario" class="ca-select">
                            <option value="">Todos os Funcionários</option>
                        </select>
                    </div>
                    <button id="btn-aplicar-filtros-log" class="ca-btn ca-btn-primario">
                        <i class="fas fa-search"></i> Filtrar
                    </button>
                </div>
                <div class="ca-tabela-wrapper">
                    <table id="logs-table" class="ca-tabela-estilizada">
                        <thead>
                            <tr>
                                <th>Funcionário</th>
                                <th>Item</th>
                                <th>Tipo</th>
                                <th>Data Assinatura</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Conteúdo dinâmico via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Modal genérico para ações -->
    <div id="ca-modal-overlay" class="popup-overlay" style="display: none;">
        <div id="ca-modal-content" class="popup-mensagem">
            <!-- Conteúdo do modal será injetado pelo JS -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/utils/auth.js" type="module"></script>
    <script src="/js/carregar-menu-lateral.js" type="module"></script>
    <script src="/js/admin-conferencia.js" type="module"></script>
</body>
</html>