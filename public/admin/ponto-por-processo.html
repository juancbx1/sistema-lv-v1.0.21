<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pontos por Processo e Atividade</title> <!-- Título atualizado -->
    <link rel="stylesheet" href="/css/ponto-por-processo.css">
    <link rel="stylesheet" href="/css/menu-lateral.css">
    <link rel="stylesheet" href="/css/popups.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Menu Hamburger (existente) -->
    <div class="hamburger-menu">
        <i class="fas fa-bars"></i>
        <i class="fas fa-times"></i>
    </div>

    <!-- Container Principal da Página -->
    <div class="ppp-container-principal">
        <header class="ppp-cabecalho-pagina">
            <h1>Configurações de Produção</h1>
        </header>

        <!-- Estrutura de Abas -->
        <div class="ppp-tabs-container">
            <button class="ppp-tab-btn active" data-tab="metas">
                <i class="fas fa-bullseye"></i> Metas e Comissões
            </button>
            <button class="ppp-tab-btn" data-tab="pontos">
                <i class="fas fa-star"></i> Pontos por Atividade
            </button>
        </div>

        <!-- Mensagem de feedback global, visível em ambas as abas -->
        <div id="ppp-mensagem-feedback" class="ppp-mensagem" style="display: none;"></div>

        <!-- Painel da Aba de Metas -->
        <div id="tab-panel-metas" class="ppp-tab-panel active">
            <section class="ppp-secao-configuracao" id="secaoGestaoMetas">
                <h2 class="ppp-titulo-secao">Gestão de Versões de Metas</h2>
                
                <!-- Controles principais: Selecionar versão e criar nova -->
                <div class="ppp-filtros">
                    <div class="ppp-grupo-filtro">
                        <label for="filtroVersaoMeta">Selecione uma Versão para Visualizar/Editar:</label>
                        <select id="filtroVersaoMeta" class="ppp-select" disabled>
                            <option value="">Carregando versões...</option>
                        </select>
                    </div>
                    <button id="btnCriarNovaVersao" class="ppp-botao ppp-botao-adicionar">
                        <i class="fas fa-plus"></i> Criar Nova Versão de Metas
                    </button>
                </div>

                <!-- Container para os detalhes e tabela da versão selecionada -->
                <div id="containerDetalhesVersao" style="display: none;">
                    <h3 id="tituloTabelaRegras" class="ppp-titulo-secao" style="font-size: 1.4rem; margin-top: 30px;">Regras da Versão</h3>
                    
                    <div class="ppp-tabela-container">
                        <table class="ppp-tabela" id="tabelaRegrasMeta">
                            <thead>
                                <tr>
                                    <th>Tipo Usuário</th>
                                    <th>Nível</th>
                                    <th>Descrição</th>
                                    <th>Pontos</th>
                                    <th>Comissão (R$)</th>
                                    <th>Condições</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="corpoTabelaRegrasMeta">
                                <!-- Linhas serão carregadas dinamicamente pelo JS -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Botão para adicionar nova regra (só aparece para versões futuras) -->
                    <button id="btnAdicionarNovaRegra" class="ppp-botao ppp-botao-adicionar" style="margin-top: 20px; display: none;">
                        <i class="fas fa-plus-circle"></i> Adicionar Nova Regra a esta Versão
                    </button>
                </div>
            </section>
        </div>

        <!-- Painel da Aba de Pontos -->
        <div id="tab-panel-pontos" class="ppp-tab-panel">
            <section class="ppp-secao-configuracao" id="secaoPontosPadrao">
                <h2 class="ppp-titulo-secao">Pontos Padrão por Atividade</h2>
                <div class="ppp-filtros">
                    <div class="ppp-grupo-filtro">
                        <label for="filtroProdutoPontos">Produto:</label>
                        <select id="filtroProdutoPontos" class="ppp-select">
                            <option value="">Carregando...</option>
                        </select>
                    </div>
                    <div class="ppp-grupo-filtro">
                        <label for="filtroTipoAtividadePontos">Tipo de Atividade:</label>
                        <select id="filtroTipoAtividadePontos" class="ppp-select">
                            <option value="">Todos os Tipos</option>
                        </select>
                    </div>
                    <button id="btnAdicionarNovaConfigPonto" class="ppp-botao ppp-botao-adicionar">
                        <i class="fas fa-plus"></i> Adicionar Configuração de Ponto
                    </button>
                </div>
                <div class="ppp-tabela-container">
                    <table class="ppp-tabela" id="tabelaPontosPadrao">
                        <thead>
                            <tr>
                                <th>Produto</th>
                                <th>Processo/Atividade</th>
                                <th>Tipo de Atividade</th>
                                <th>Pontos Padrão</th>
                                <th>Ativo</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="corpoTabelaPontosPadrao">
                            <!-- Linhas serão carregadas dinamicamente pelo JS -->
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <!-- Scripts (existentes) -->
    <script src="/js/admin-ponto-por-processo.js" type="module"></script>
    <script src="/js/carregar-menu-lateral.js" type="module"></script>
</body>
</html>